<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pcilib: bank.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pcilib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b5c8f32f3013e7b96dc99509907414c.html">pcilib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bank.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="pcilib_8h_source.html">pcilib.h</a>&gt;</code><br />
</div>
<p><a href="bank_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__register__protocol__api__description__t.html">pcilib_register_protocol_api_description_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__register__protocol__description__t.html">pcilib_register_protocol_description_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__register__range__t.html">pcilib_register_range_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default mappings: defines virtual address to register mappings, i.e.  <a href="structpcilib__register__range__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1e23eec89ad5ac7e79a21ac008719cc4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>&#160;&#160;&#160;((<a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>)-1)</td></tr>
<tr class="separator:a1e23eec89ad5ac7e79a21ac008719cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f4cf76884f547a77ef211c9e569d3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a31f4cf76884f547a77ef211c9e569d3a">PCILIB_REGISTER_BANK0</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a31f4cf76884f547a77ef211c9e569d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">First BANK to be used in the event engine.  <a href="bank_8h.html#a31f4cf76884f547a77ef211c9e569d3a">More...</a><br /></td></tr>
<tr class="separator:a31f4cf76884f547a77ef211c9e569d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390ffe54ad91f059639de021f41e3ae0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a390ffe54ad91f059639de021f41e3ae0">PCILIB_REGISTER_BANK1</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a390ffe54ad91f059639de021f41e3ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04db5fea7dda4d6ea5b6eecc64936649"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a04db5fea7dda4d6ea5b6eecc64936649">PCILIB_REGISTER_BANK2</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a04db5fea7dda4d6ea5b6eecc64936649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1592a4cd9c1c858654a74994dff5ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a7d1592a4cd9c1c858654a74994dff5ab">PCILIB_REGISTER_BANK3</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a7d1592a4cd9c1c858654a74994dff5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4d2feaf3095ef395069502e17cf482"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#aaf4d2feaf3095ef395069502e17cf482">PCILIB_REGISTER_BANK_CONF</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:aaf4d2feaf3095ef395069502e17cf482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration registers.  <a href="bank_8h.html#aaf4d2feaf3095ef395069502e17cf482">More...</a><br /></td></tr>
<tr class="separator:aaf4d2feaf3095ef395069502e17cf482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a992364f02e543647e7c2d71e36d8dc7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a992364f02e543647e7c2d71e36d8dc7b">PCILIB_REGISTER_BANK_PROPERTY</a>&#160;&#160;&#160;65</td></tr>
<tr class="memdesc:a992364f02e543647e7c2d71e36d8dc7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers abstracting properties and other computed registers.  <a href="bank_8h.html#a992364f02e543647e7c2d71e36d8dc7b">More...</a><br /></td></tr>
<tr class="separator:a992364f02e543647e7c2d71e36d8dc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a39231a77fef3820618b70a7312fe3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a35a39231a77fef3820618b70a7312fe3">PCILIB_REGISTER_BANK_DMACONF</a>&#160;&#160;&#160;96</td></tr>
<tr class="memdesc:a35a39231a77fef3820618b70a7312fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA configuration in the software registers.  <a href="bank_8h.html#a35a39231a77fef3820618b70a7312fe3">More...</a><br /></td></tr>
<tr class="separator:a35a39231a77fef3820618b70a7312fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4ce8b357545522a0295d738adbcf8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a>&#160;&#160;&#160;97</td></tr>
<tr class="memdesc:abd4ce8b357545522a0295d738adbcf8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">First BANK address to be used by DMA engines.  <a href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">More...</a><br /></td></tr>
<tr class="separator:abd4ce8b357545522a0295d738adbcf8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe733881dd7b4eb3fea718bc6eefac05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#abe733881dd7b4eb3fea718bc6eefac05">PCILIB_REGISTER_BANK_DMA0</a>&#160;&#160;&#160;<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a></td></tr>
<tr class="memdesc:abe733881dd7b4eb3fea718bc6eefac05"><td class="mdescLeft">&#160;</td><td class="mdescRight">First BANK address to be used by DMA engines.  <a href="bank_8h.html#abe733881dd7b4eb3fea718bc6eefac05">More...</a><br /></td></tr>
<tr class="separator:abe733881dd7b4eb3fea718bc6eefac05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f4e32da4b212eecf7e5c1661c41ca9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a32f4e32da4b212eecf7e5c1661c41ca9">PCILIB_REGISTER_BANK_DMA1</a>&#160;&#160;&#160;(<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a> + 1)</td></tr>
<tr class="memdesc:a32f4e32da4b212eecf7e5c1661c41ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Second BANK address to be used by DMA engines.  <a href="bank_8h.html#a32f4e32da4b212eecf7e5c1661c41ca9">More...</a><br /></td></tr>
<tr class="separator:a32f4e32da4b212eecf7e5c1661c41ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab128e0716377cf248933261e07f4befe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#ab128e0716377cf248933261e07f4befe">PCILIB_REGISTER_BANK_DMA2</a>&#160;&#160;&#160;(<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a> + 2)</td></tr>
<tr class="memdesc:ab128e0716377cf248933261e07f4befe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Third BANK address to be used by DMA engines.  <a href="bank_8h.html#ab128e0716377cf248933261e07f4befe">More...</a><br /></td></tr>
<tr class="separator:ab128e0716377cf248933261e07f4befe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd2839bfd221f6fe747d2f351d6fa2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#abfd2839bfd221f6fe747d2f351d6fa2d">PCILIB_REGISTER_BANK_DMA3</a>&#160;&#160;&#160;(<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a> + 3)</td></tr>
<tr class="memdesc:abfd2839bfd221f6fe747d2f351d6fa2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fourth BANK address to be used by DMA engines.  <a href="bank_8h.html#abfd2839bfd221f6fe747d2f351d6fa2d">More...</a><br /></td></tr>
<tr class="separator:abfd2839bfd221f6fe747d2f351d6fa2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75bfd839e9fddbc5da999395a6fed405"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a75bfd839e9fddbc5da999395a6fed405">PCILIB_REGISTER_BANK_DYNAMIC</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a75bfd839e9fddbc5da999395a6fed405"><td class="mdescLeft">&#160;</td><td class="mdescRight">First BANK address to map dynamic XML configuration.  <a href="bank_8h.html#a75bfd839e9fddbc5da999395a6fed405">More...</a><br /></td></tr>
<tr class="separator:a75bfd839e9fddbc5da999395a6fed405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3319fcb1457aef5bc7123b420f6af6eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a>&#160;&#160;&#160;((<a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a>)-1)</td></tr>
<tr class="separator:a3319fcb1457aef5bc7123b420f6af6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d49794acf5e7abb3c6e1fed2abbb851"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a4d49794acf5e7abb3c6e1fed2abbb851">PCILIB_REGISTER_PROTOCOL0</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a4d49794acf5e7abb3c6e1fed2abbb851"><td class="mdescLeft">&#160;</td><td class="mdescRight">First PROTOCOL address to be used in the event engine.  <a href="bank_8h.html#a4d49794acf5e7abb3c6e1fed2abbb851">More...</a><br /></td></tr>
<tr class="separator:a4d49794acf5e7abb3c6e1fed2abbb851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdcad438bad56dcd4e5400332a0d175"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a5fdcad438bad56dcd4e5400332a0d175">PCILIB_REGISTER_PROTOCOL_DEFAULT</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a5fdcad438bad56dcd4e5400332a0d175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default memmap based protocol.  <a href="bank_8h.html#a5fdcad438bad56dcd4e5400332a0d175">More...</a><br /></td></tr>
<tr class="separator:a5fdcad438bad56dcd4e5400332a0d175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c26140338cfa5a30a5a74dd5dcf73a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#aa5c26140338cfa5a30a5a74dd5dcf73a">PCILIB_REGISTER_PROTOCOL_SOFTWARE</a>&#160;&#160;&#160;65</td></tr>
<tr class="memdesc:aa5c26140338cfa5a30a5a74dd5dcf73a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software registers.  <a href="bank_8h.html#aa5c26140338cfa5a30a5a74dd5dcf73a">More...</a><br /></td></tr>
<tr class="separator:aa5c26140338cfa5a30a5a74dd5dcf73a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae685e2c491e55201f4b09618d8a1c93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#aae685e2c491e55201f4b09618d8a1c93">PCILIB_REGISTER_PROTOCOL_PROPERTY</a>&#160;&#160;&#160;66</td></tr>
<tr class="memdesc:aae685e2c491e55201f4b09618d8a1c93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protocol to access registers interfacing properties.  <a href="bank_8h.html#aae685e2c491e55201f4b09618d8a1c93">More...</a><br /></td></tr>
<tr class="separator:aae685e2c491e55201f4b09618d8a1c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb4537a3e341bd9f2c105116f19a31d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a6fb4537a3e341bd9f2c105116f19a31d">PCILIB_REGISTER_PROTOCOL_DMA</a>&#160;&#160;&#160;96</td></tr>
<tr class="memdesc:a6fb4537a3e341bd9f2c105116f19a31d"><td class="mdescLeft">&#160;</td><td class="mdescRight">First PROTOCOL address to be used by DMA engines.  <a href="bank_8h.html#a6fb4537a3e341bd9f2c105116f19a31d">More...</a><br /></td></tr>
<tr class="separator:a6fb4537a3e341bd9f2c105116f19a31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23756877d77bb9fa7e22cae7d201806c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a23756877d77bb9fa7e22cae7d201806c">PCILIB_REGISTER_PROTOCOL_DYNAMIC</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a23756877d77bb9fa7e22cae7d201806c"><td class="mdescLeft">&#160;</td><td class="mdescRight">First PROTOCOL address to be used by plugins.  <a href="bank_8h.html#a23756877d77bb9fa7e22cae7d201806c">More...</a><br /></td></tr>
<tr class="separator:a23756877d77bb9fa7e22cae7d201806c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7dc74dfb74b49fc1c80cc5459493bee8"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a></td></tr>
<tr class="memdesc:a7dc74dfb74b49fc1c80cc5459493bee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type holding the bank position within the field listing register banks in the model.  <a href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">More...</a><br /></td></tr>
<tr class="separator:a7dc74dfb74b49fc1c80cc5459493bee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3dcbb4f48be84815251627b025785a"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a7f3dcbb4f48be84815251627b025785a">pcilib_register_bank_addr_t</a></td></tr>
<tr class="memdesc:a7f3dcbb4f48be84815251627b025785a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type holding the bank address number.  <a href="bank_8h.html#a7f3dcbb4f48be84815251627b025785a">More...</a><br /></td></tr>
<tr class="separator:a7f3dcbb4f48be84815251627b025785a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd144da6c35e3a78344de4dd4e77445"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a></td></tr>
<tr class="memdesc:afdd144da6c35e3a78344de4dd4e77445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type holding the protocol position within the field listing register protocols in the model.  <a href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">More...</a><br /></td></tr>
<tr class="separator:afdd144da6c35e3a78344de4dd4e77445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a94b09b7d247b178f851826379c3c1e"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a7a94b09b7d247b178f851826379c3c1e">pcilib_register_protocol_addr_t</a></td></tr>
<tr class="memdesc:a7a94b09b7d247b178f851826379c3c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type holding the protocol address.  <a href="bank_8h.html#a7a94b09b7d247b178f851826379c3c1e">More...</a><br /></td></tr>
<tr class="separator:a7a94b09b7d247b178f851826379c3c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a991ae99083abe174eacb92af2b948cde"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a991ae99083abe174eacb92af2b948cde">pcilib_register_bank_context_t</a></td></tr>
<tr class="separator:a991ae99083abe174eacb92af2b948cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab2b604364494c4bb061e3c8ff75b3565"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a> { <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565afa2f073b46b5612ad6f1376df9c099f1">PCILIB_MODEL_MODIFICATON_FLAGS_DEFAULT</a> = 0
, <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142">PCILIB_MODEL_MODIFICATION_FLAG_OVERRIDE</a> = 1
, <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204">PCILIB_MODEL_MODIFICATION_FLAG_SKIP_EXISTING</a> = 2
 }</td></tr>
<tr class="separator:ab2b604364494c4bb061e3c8ff75b3565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671f5562abacdaac9349000ffb411465"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a> { <br />
&#160;&#160;<a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a1f090a5aa186b66ffea0b369cfc3e9da">PCILIB_ADDRESS_RESOLUTION_FLAGS_DEFAULT</a> = 0
, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a9d6da3ee0d12bd3f12aa0449027d731f">PCILIB_ADDRESS_RESOLUTION_FLAG_BUS_ADDRESS</a> = 1
, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465abce2487749cd144f2ed2bb9e06201322">PCILIB_ADDRESS_RESOLUTION_FLAG_PHYS_ADDRESS</a> = 2
, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a9ed442614a74c0418bb71aeb0354823e">PCILIB_ADDRESS_RESOLUTION_MASK_ADDRESS_TYPE</a> = 3
, <br />
&#160;&#160;<a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465aa562777bfefe0b8fb535d8a8ecc43334">PCILIB_ADDRESS_RESOLUTION_FLAG_READ_ONLY</a> = 4
, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a49e4cae07df57c4b640a7f4575c32d10">PCILIB_ADDRESS_RESOLUTION_FLAG_WRITE_ONLY</a> = 8
, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a0c92cbf1247845fec319583ffef2c81f">PCILIB_ADDRESS_RESOLUTION_MASK_ACCESS_MODE</a> = 12
<br />
 }</td></tr>
<tr class="separator:a671f5562abacdaac9349000ffb411465"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a95ea0518e5c86b9ca1bbea948b5869bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a95ea0518e5c86b9ca1bbea948b5869bd">pcilib_init_register_banks</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx)</td></tr>
<tr class="memdesc:a95ea0518e5c86b9ca1bbea948b5869bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initalizes context of register banks.  <a href="bank_8h.html#a95ea0518e5c86b9ca1bbea948b5869bd">More...</a><br /></td></tr>
<tr class="separator:a95ea0518e5c86b9ca1bbea948b5869bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aaad6dc76ed23efacb455438be5c27a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a6aaad6dc76ed23efacb455438be5c27a">pcilib_free_register_banks</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> start)</td></tr>
<tr class="memdesc:a6aaad6dc76ed23efacb455438be5c27a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys contexts of register banks.  <a href="bank_8h.html#a6aaad6dc76ed23efacb455438be5c27a">More...</a><br /></td></tr>
<tr class="separator:a6aaad6dc76ed23efacb455438be5c27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1222fd326a61501597298c3e7e18ae5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a1222fd326a61501597298c3e7e18ae5c">pcilib_add_register_banks</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a> flags, size_t n, const <a class="el" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a> *banks, <a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> *ids)</td></tr>
<tr class="memdesc:a1222fd326a61501597298c3e7e18ae5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to add new register banks into the model or override configuration of the existing banks.  <a href="bank_8h.html#a1222fd326a61501597298c3e7e18ae5c">More...</a><br /></td></tr>
<tr class="separator:a1222fd326a61501597298c3e7e18ae5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98831e48d2e98f52418b1cfff7d66ee6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a98831e48d2e98f52418b1cfff7d66ee6">pcilib_add_register_protocols</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a> flags, size_t n, const <a class="el" href="structpcilib__register__protocol__description__t.html">pcilib_register_protocol_description_t</a> *protocols, <a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> *ids)</td></tr>
<tr class="memdesc:a98831e48d2e98f52418b1cfff7d66ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to add new register protocols into the model.  <a href="bank_8h.html#a98831e48d2e98f52418b1cfff7d66ee6">More...</a><br /></td></tr>
<tr class="separator:a98831e48d2e98f52418b1cfff7d66ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa43049952c5243dd020e98ef63cac4b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#aa43049952c5243dd020e98ef63cac4b0">pcilib_add_register_ranges</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a> flags, size_t n, const <a class="el" href="structpcilib__register__range__t.html">pcilib_register_range_t</a> *ranges)</td></tr>
<tr class="memdesc:aa43049952c5243dd020e98ef63cac4b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to add new register ranges into the model.  <a href="bank_8h.html#aa43049952c5243dd020e98ef63cac4b0">More...</a><br /></td></tr>
<tr class="separator:aa43049952c5243dd020e98ef63cac4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9929ece9a387bddb8e3b57bfcbcac92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a7f3dcbb4f48be84815251627b025785a">pcilib_register_bank_addr_t</a> bank)</td></tr>
<tr class="memdesc:ae9929ece9a387bddb8e3b57bfcbcac92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the register bank id (offset in <em>banks</em> array) corresponding to the specified bank address.  <a href="bank_8h.html#ae9929ece9a387bddb8e3b57bfcbcac92">More...</a><br /></td></tr>
<tr class="separator:ae9929ece9a387bddb8e3b57bfcbcac92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad546334a8814e53e9bf4c842ba0a5cd5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, const char *bankname)</td></tr>
<tr class="memdesc:ad546334a8814e53e9bf4c842ba0a5cd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the register bank id (offset in <em>banks</em> array) corresponding to the specified bank name.  <a href="bank_8h.html#ad546334a8814e53e9bf4c842ba0a5cd5">More...</a><br /></td></tr>
<tr class="separator:ad546334a8814e53e9bf4c842ba0a5cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25360529598bbfc4f64d8ab3af4f49b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a25360529598bbfc4f64d8ab3af4f49b7">pcilib_find_register_bank</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, const char *bank)</td></tr>
<tr class="memdesc:a25360529598bbfc4f64d8ab3af4f49b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the register bank id (offset in <em>banks</em> array) corresponding to the specified bank name or address.  <a href="bank_8h.html#a25360529598bbfc4f64d8ab3af4f49b7">More...</a><br /></td></tr>
<tr class="separator:a25360529598bbfc4f64d8ab3af4f49b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa7cb95fe1f0d5523e2aa324a903d58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#abfa7cb95fe1f0d5523e2aa324a903d58">pcilib_find_register_protocol_by_addr</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a7a94b09b7d247b178f851826379c3c1e">pcilib_register_protocol_addr_t</a> protocol)</td></tr>
<tr class="memdesc:abfa7cb95fe1f0d5523e2aa324a903d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the register protocol id (offset in <em>protocols</em> array) corresponding to the specified protocol address.  <a href="bank_8h.html#abfa7cb95fe1f0d5523e2aa324a903d58">More...</a><br /></td></tr>
<tr class="separator:abfa7cb95fe1f0d5523e2aa324a903d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786e13bec0ea8160f16e327dadbe8f98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a786e13bec0ea8160f16e327dadbe8f98">pcilib_find_register_protocol_by_name</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, const char *name)</td></tr>
<tr class="memdesc:a786e13bec0ea8160f16e327dadbe8f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the register protocol id (offset in <em>protocols</em> array) corresponding to the specified protocol name.  <a href="bank_8h.html#a786e13bec0ea8160f16e327dadbe8f98">More...</a><br /></td></tr>
<tr class="separator:a786e13bec0ea8160f16e327dadbe8f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807e1ce8d46cf8964061d9ed97f1fc85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a807e1ce8d46cf8964061d9ed97f1fc85">pcilib_find_register_protocol</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, const char *name)</td></tr>
<tr class="memdesc:a807e1ce8d46cf8964061d9ed97f1fc85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the register protocol id (offset in <em>protocols</em> array) corresponding to the specified protocol name or address.  <a href="bank_8h.html#a807e1ce8d46cf8964061d9ed97f1fc85">More...</a><br /></td></tr>
<tr class="separator:a807e1ce8d46cf8964061d9ed97f1fc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b26fc389772f0364d6b94ef74e6f11"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a54b26fc389772f0364d6b94ef74e6f11">pcilib_resolve_bank_address_by_id</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a> flags, <a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> bank)</td></tr>
<tr class="memdesc:a54b26fc389772f0364d6b94ef74e6f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves the address of the specified register bank.  <a href="bank_8h.html#a54b26fc389772f0364d6b94ef74e6f11">More...</a><br /></td></tr>
<tr class="separator:a54b26fc389772f0364d6b94ef74e6f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad42f7dd537a62b145d452df97216ac29"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#ad42f7dd537a62b145d452df97216ac29">pcilib_resolve_bank_address</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a> flags, const char *bank)</td></tr>
<tr class="memdesc:ad42f7dd537a62b145d452df97216ac29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves the address of the specified register bank.  <a href="bank_8h.html#ad42f7dd537a62b145d452df97216ac29">More...</a><br /></td></tr>
<tr class="separator:ad42f7dd537a62b145d452df97216ac29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2319b841b3a4bd28187ddf61924c35"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a4b2319b841b3a4bd28187ddf61924c35">pcilib_resolve_register_address_by_id</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a> flags, <a class="el" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a> reg)</td></tr>
<tr class="memdesc:a4b2319b841b3a4bd28187ddf61924c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves the address of the specified register.  <a href="bank_8h.html#a4b2319b841b3a4bd28187ddf61924c35">More...</a><br /></td></tr>
<tr class="separator:a4b2319b841b3a4bd28187ddf61924c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67c882d243243e3a8f5bc335c9ee348"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#af67c882d243243e3a8f5bc335c9ee348">pcilib_resolve_register_address</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a> flags, const char *bank, const char *regname)</td></tr>
<tr class="memdesc:af67c882d243243e3a8f5bc335c9ee348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves the address of the specified register.  <a href="bank_8h.html#af67c882d243243e3a8f5bc335c9ee348">More...</a><br /></td></tr>
<tr class="separator:af67c882d243243e3a8f5bc335c9ee348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1618f888b4b8f27159734761ffc1099d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a1618f888b4b8f27159734761ffc1099d">pcilib_get_register_bank_attr_by_id</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> bank, const char *attr, <a class="el" href="structpcilib__value__t.html">pcilib_value_t</a> *val)</td></tr>
<tr class="memdesc:a1618f888b4b8f27159734761ffc1099d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts additional information about the specified register bank.  <a href="bank_8h.html#a1618f888b4b8f27159734761ffc1099d">More...</a><br /></td></tr>
<tr class="separator:a1618f888b4b8f27159734761ffc1099d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1255fbc372a6a5862236a4ef337828bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bank_8h.html#a1255fbc372a6a5862236a4ef337828bb">pcilib_get_register_bank_attr</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, const char *bankname, const char *attr, <a class="el" href="structpcilib__value__t.html">pcilib_value_t</a> *val)</td></tr>
<tr class="memdesc:a1255fbc372a6a5862236a4ef337828bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts additional information about the specified register bank.  <a href="bank_8h.html#a1255fbc372a6a5862236a4ef337828bb">More...</a><br /></td></tr>
<tr class="separator:a1255fbc372a6a5862236a4ef337828bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a31f4cf76884f547a77ef211c9e569d3a" name="a31f4cf76884f547a77ef211c9e569d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f4cf76884f547a77ef211c9e569d3a">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK0&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First BANK to be used in the event engine. </p>

</div>
</div>
<a id="a390ffe54ad91f059639de021f41e3ae0" name="a390ffe54ad91f059639de021f41e3ae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390ffe54ad91f059639de021f41e3ae0">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK1&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a04db5fea7dda4d6ea5b6eecc64936649" name="a04db5fea7dda4d6ea5b6eecc64936649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04db5fea7dda4d6ea5b6eecc64936649">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK2&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d1592a4cd9c1c858654a74994dff5ab" name="a7d1592a4cd9c1c858654a74994dff5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d1592a4cd9c1c858654a74994dff5ab">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK3&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaf4d2feaf3095ef395069502e17cf482" name="aaf4d2feaf3095ef395069502e17cf482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4d2feaf3095ef395069502e17cf482">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_CONF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_CONF&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configuration registers. </p>

</div>
</div>
<a id="abd4ce8b357545522a0295d738adbcf8b" name="abd4ce8b357545522a0295d738adbcf8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4ce8b357545522a0295d738adbcf8b">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_DMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_DMA&#160;&#160;&#160;97</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First BANK address to be used by DMA engines. </p>

</div>
</div>
<a id="abe733881dd7b4eb3fea718bc6eefac05" name="abe733881dd7b4eb3fea718bc6eefac05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe733881dd7b4eb3fea718bc6eefac05">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_DMA0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_DMA0&#160;&#160;&#160;<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First BANK address to be used by DMA engines. </p>

</div>
</div>
<a id="a32f4e32da4b212eecf7e5c1661c41ca9" name="a32f4e32da4b212eecf7e5c1661c41ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32f4e32da4b212eecf7e5c1661c41ca9">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_DMA1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_DMA1&#160;&#160;&#160;(<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Second BANK address to be used by DMA engines. </p>

</div>
</div>
<a id="ab128e0716377cf248933261e07f4befe" name="ab128e0716377cf248933261e07f4befe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab128e0716377cf248933261e07f4befe">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_DMA2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_DMA2&#160;&#160;&#160;(<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a> + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Third BANK address to be used by DMA engines. </p>

</div>
</div>
<a id="abfd2839bfd221f6fe747d2f351d6fa2d" name="abfd2839bfd221f6fe747d2f351d6fa2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd2839bfd221f6fe747d2f351d6fa2d">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_DMA3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_DMA3&#160;&#160;&#160;(<a class="el" href="bank_8h.html#abd4ce8b357545522a0295d738adbcf8b">PCILIB_REGISTER_BANK_DMA</a> + 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fourth BANK address to be used by DMA engines. </p>

</div>
</div>
<a id="a35a39231a77fef3820618b70a7312fe3" name="a35a39231a77fef3820618b70a7312fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a39231a77fef3820618b70a7312fe3">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_DMACONF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_DMACONF&#160;&#160;&#160;96</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DMA configuration in the software registers. </p>

</div>
</div>
<a id="a75bfd839e9fddbc5da999395a6fed405" name="a75bfd839e9fddbc5da999395a6fed405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75bfd839e9fddbc5da999395a6fed405">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_DYNAMIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_DYNAMIC&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First BANK address to map dynamic XML configuration. </p>

</div>
</div>
<a id="a1e23eec89ad5ac7e79a21ac008719cc4" name="a1e23eec89ad5ac7e79a21ac008719cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e23eec89ad5ac7e79a21ac008719cc4">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_INVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_INVALID&#160;&#160;&#160;((<a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a992364f02e543647e7c2d71e36d8dc7b" name="a992364f02e543647e7c2d71e36d8dc7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a992364f02e543647e7c2d71e36d8dc7b">&#9670;&#160;</a></span>PCILIB_REGISTER_BANK_PROPERTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_BANK_PROPERTY&#160;&#160;&#160;65</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers abstracting properties and other computed registers. </p>

</div>
</div>
<a id="a4d49794acf5e7abb3c6e1fed2abbb851" name="a4d49794acf5e7abb3c6e1fed2abbb851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d49794acf5e7abb3c6e1fed2abbb851">&#9670;&#160;</a></span>PCILIB_REGISTER_PROTOCOL0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_PROTOCOL0&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First PROTOCOL address to be used in the event engine. </p>

</div>
</div>
<a id="a5fdcad438bad56dcd4e5400332a0d175" name="a5fdcad438bad56dcd4e5400332a0d175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdcad438bad56dcd4e5400332a0d175">&#9670;&#160;</a></span>PCILIB_REGISTER_PROTOCOL_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_PROTOCOL_DEFAULT&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default memmap based protocol. </p>

</div>
</div>
<a id="a6fb4537a3e341bd9f2c105116f19a31d" name="a6fb4537a3e341bd9f2c105116f19a31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb4537a3e341bd9f2c105116f19a31d">&#9670;&#160;</a></span>PCILIB_REGISTER_PROTOCOL_DMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_PROTOCOL_DMA&#160;&#160;&#160;96</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First PROTOCOL address to be used by DMA engines. </p>

</div>
</div>
<a id="a23756877d77bb9fa7e22cae7d201806c" name="a23756877d77bb9fa7e22cae7d201806c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23756877d77bb9fa7e22cae7d201806c">&#9670;&#160;</a></span>PCILIB_REGISTER_PROTOCOL_DYNAMIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_PROTOCOL_DYNAMIC&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First PROTOCOL address to be used by plugins. </p>

</div>
</div>
<a id="a3319fcb1457aef5bc7123b420f6af6eb" name="a3319fcb1457aef5bc7123b420f6af6eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3319fcb1457aef5bc7123b420f6af6eb">&#9670;&#160;</a></span>PCILIB_REGISTER_PROTOCOL_INVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_PROTOCOL_INVALID&#160;&#160;&#160;((<a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a>)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aae685e2c491e55201f4b09618d8a1c93" name="aae685e2c491e55201f4b09618d8a1c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae685e2c491e55201f4b09618d8a1c93">&#9670;&#160;</a></span>PCILIB_REGISTER_PROTOCOL_PROPERTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_PROTOCOL_PROPERTY&#160;&#160;&#160;66</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Protocol to access registers interfacing properties. </p>

</div>
</div>
<a id="aa5c26140338cfa5a30a5a74dd5dcf73a" name="aa5c26140338cfa5a30a5a74dd5dcf73a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5c26140338cfa5a30a5a74dd5dcf73a">&#9670;&#160;</a></span>PCILIB_REGISTER_PROTOCOL_SOFTWARE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_REGISTER_PROTOCOL_SOFTWARE&#160;&#160;&#160;65</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Software registers. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7f3dcbb4f48be84815251627b025785a" name="a7f3dcbb4f48be84815251627b025785a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3dcbb4f48be84815251627b025785a">&#9670;&#160;</a></span>pcilib_register_bank_addr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="bank_8h.html#a7f3dcbb4f48be84815251627b025785a">pcilib_register_bank_addr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type holding the bank address number. </p>

</div>
</div>
<a id="a991ae99083abe174eacb92af2b948cde" name="a991ae99083abe174eacb92af2b948cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991ae99083abe174eacb92af2b948cde">&#9670;&#160;</a></span>pcilib_register_bank_context_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_s</a> <a class="el" href="bank_8h.html#a991ae99083abe174eacb92af2b948cde">pcilib_register_bank_context_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7dc74dfb74b49fc1c80cc5459493bee8" name="a7dc74dfb74b49fc1c80cc5459493bee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc74dfb74b49fc1c80cc5459493bee8">&#9670;&#160;</a></span>pcilib_register_bank_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type holding the bank position within the field listing register banks in the model. </p>

</div>
</div>
<a id="a7a94b09b7d247b178f851826379c3c1e" name="a7a94b09b7d247b178f851826379c3c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a94b09b7d247b178f851826379c3c1e">&#9670;&#160;</a></span>pcilib_register_protocol_addr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="bank_8h.html#a7a94b09b7d247b178f851826379c3c1e">pcilib_register_protocol_addr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type holding the protocol address. </p>

</div>
</div>
<a id="afdd144da6c35e3a78344de4dd4e77445" name="afdd144da6c35e3a78344de4dd4e77445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd144da6c35e3a78344de4dd4e77445">&#9670;&#160;</a></span>pcilib_register_protocol_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type holding the protocol position within the field listing register protocols in the model. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a671f5562abacdaac9349000ffb411465" name="a671f5562abacdaac9349000ffb411465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a671f5562abacdaac9349000ffb411465">&#9670;&#160;</a></span>pcilib_address_resolution_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a671f5562abacdaac9349000ffb411465a1f090a5aa186b66ffea0b369cfc3e9da" name="a671f5562abacdaac9349000ffb411465a1f090a5aa186b66ffea0b369cfc3e9da"></a>PCILIB_ADDRESS_RESOLUTION_FLAGS_DEFAULT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a671f5562abacdaac9349000ffb411465a9d6da3ee0d12bd3f12aa0449027d731f" name="a671f5562abacdaac9349000ffb411465a9d6da3ee0d12bd3f12aa0449027d731f"></a>PCILIB_ADDRESS_RESOLUTION_FLAG_BUS_ADDRESS&#160;</td><td class="fielddoc"><p >Resolve bus address instead of VA. </p>
</td></tr>
<tr><td class="fieldname"><a id="a671f5562abacdaac9349000ffb411465abce2487749cd144f2ed2bb9e06201322" name="a671f5562abacdaac9349000ffb411465abce2487749cd144f2ed2bb9e06201322"></a>PCILIB_ADDRESS_RESOLUTION_FLAG_PHYS_ADDRESS&#160;</td><td class="fielddoc"><p >Resolve hardware address instead of VA. </p>
</td></tr>
<tr><td class="fieldname"><a id="a671f5562abacdaac9349000ffb411465a9ed442614a74c0418bb71aeb0354823e" name="a671f5562abacdaac9349000ffb411465a9ed442614a74c0418bb71aeb0354823e"></a>PCILIB_ADDRESS_RESOLUTION_MASK_ADDRESS_TYPE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a671f5562abacdaac9349000ffb411465aa562777bfefe0b8fb535d8a8ecc43334" name="a671f5562abacdaac9349000ffb411465aa562777bfefe0b8fb535d8a8ecc43334"></a>PCILIB_ADDRESS_RESOLUTION_FLAG_READ_ONLY&#160;</td><td class="fielddoc"><p >Request read-only memory, in case if read-write resolution is impossible. </p>
</td></tr>
<tr><td class="fieldname"><a id="a671f5562abacdaac9349000ffb411465a49e4cae07df57c4b640a7f4575c32d10" name="a671f5562abacdaac9349000ffb411465a49e4cae07df57c4b640a7f4575c32d10"></a>PCILIB_ADDRESS_RESOLUTION_FLAG_WRITE_ONLY&#160;</td><td class="fielddoc"><p >Request write-only resolution, in case if read-write resolution is impossible. </p>
</td></tr>
<tr><td class="fieldname"><a id="a671f5562abacdaac9349000ffb411465a0c92cbf1247845fec319583ffef2c81f" name="a671f5562abacdaac9349000ffb411465a0c92cbf1247845fec319583ffef2c81f"></a>PCILIB_ADDRESS_RESOLUTION_MASK_ACCESS_MODE&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   41</span>             {</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_enumvalue" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a1f090a5aa186b66ffea0b369cfc3e9da">PCILIB_ADDRESS_RESOLUTION_FLAGS_DEFAULT</a> = 0,</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_enumvalue" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a9d6da3ee0d12bd3f12aa0449027d731f">PCILIB_ADDRESS_RESOLUTION_FLAG_BUS_ADDRESS</a> = 1,                             </div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_enumvalue" href="bank_8h.html#a671f5562abacdaac9349000ffb411465abce2487749cd144f2ed2bb9e06201322">PCILIB_ADDRESS_RESOLUTION_FLAG_PHYS_ADDRESS</a> = 2,                            </div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_enumvalue" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a9ed442614a74c0418bb71aeb0354823e">PCILIB_ADDRESS_RESOLUTION_MASK_ADDRESS_TYPE</a> = 3,</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_enumvalue" href="bank_8h.html#a671f5562abacdaac9349000ffb411465aa562777bfefe0b8fb535d8a8ecc43334">PCILIB_ADDRESS_RESOLUTION_FLAG_READ_ONLY</a> = 4,                               </div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_enumvalue" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a49e4cae07df57c4b640a7f4575c32d10">PCILIB_ADDRESS_RESOLUTION_FLAG_WRITE_ONLY</a> = 8,                              </div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_enumvalue" href="bank_8h.html#a671f5562abacdaac9349000ffb411465a0c92cbf1247845fec319583ffef2c81f">PCILIB_ADDRESS_RESOLUTION_MASK_ACCESS_MODE</a> = 12</div>
<div class="line"><span class="lineno">   49</span>} <a class="code hl_enumeration" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a>;</div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a></div><div class="ttdeci">pcilib_address_resolution_flags_t</div><div class="ttdef"><b>Definition:</b> bank.h:41</div></div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465a0c92cbf1247845fec319583ffef2c81f"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465a0c92cbf1247845fec319583ffef2c81f">PCILIB_ADDRESS_RESOLUTION_MASK_ACCESS_MODE</a></div><div class="ttdeci">@ PCILIB_ADDRESS_RESOLUTION_MASK_ACCESS_MODE</div><div class="ttdef"><b>Definition:</b> bank.h:48</div></div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465a1f090a5aa186b66ffea0b369cfc3e9da"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465a1f090a5aa186b66ffea0b369cfc3e9da">PCILIB_ADDRESS_RESOLUTION_FLAGS_DEFAULT</a></div><div class="ttdeci">@ PCILIB_ADDRESS_RESOLUTION_FLAGS_DEFAULT</div><div class="ttdef"><b>Definition:</b> bank.h:42</div></div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465a49e4cae07df57c4b640a7f4575c32d10"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465a49e4cae07df57c4b640a7f4575c32d10">PCILIB_ADDRESS_RESOLUTION_FLAG_WRITE_ONLY</a></div><div class="ttdeci">@ PCILIB_ADDRESS_RESOLUTION_FLAG_WRITE_ONLY</div><div class="ttdoc">Request write-only resolution, in case if read-write resolution is impossible.</div><div class="ttdef"><b>Definition:</b> bank.h:47</div></div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465a9d6da3ee0d12bd3f12aa0449027d731f"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465a9d6da3ee0d12bd3f12aa0449027d731f">PCILIB_ADDRESS_RESOLUTION_FLAG_BUS_ADDRESS</a></div><div class="ttdeci">@ PCILIB_ADDRESS_RESOLUTION_FLAG_BUS_ADDRESS</div><div class="ttdoc">Resolve bus address instead of VA.</div><div class="ttdef"><b>Definition:</b> bank.h:43</div></div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465a9ed442614a74c0418bb71aeb0354823e"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465a9ed442614a74c0418bb71aeb0354823e">PCILIB_ADDRESS_RESOLUTION_MASK_ADDRESS_TYPE</a></div><div class="ttdeci">@ PCILIB_ADDRESS_RESOLUTION_MASK_ADDRESS_TYPE</div><div class="ttdef"><b>Definition:</b> bank.h:45</div></div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465aa562777bfefe0b8fb535d8a8ecc43334"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465aa562777bfefe0b8fb535d8a8ecc43334">PCILIB_ADDRESS_RESOLUTION_FLAG_READ_ONLY</a></div><div class="ttdeci">@ PCILIB_ADDRESS_RESOLUTION_FLAG_READ_ONLY</div><div class="ttdoc">Request read-only memory, in case if read-write resolution is impossible.</div><div class="ttdef"><b>Definition:</b> bank.h:46</div></div>
<div class="ttc" id="abank_8h_html_a671f5562abacdaac9349000ffb411465abce2487749cd144f2ed2bb9e06201322"><div class="ttname"><a href="bank_8h.html#a671f5562abacdaac9349000ffb411465abce2487749cd144f2ed2bb9e06201322">PCILIB_ADDRESS_RESOLUTION_FLAG_PHYS_ADDRESS</a></div><div class="ttdeci">@ PCILIB_ADDRESS_RESOLUTION_FLAG_PHYS_ADDRESS</div><div class="ttdoc">Resolve hardware address instead of VA.</div><div class="ttdef"><b>Definition:</b> bank.h:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2b604364494c4bb061e3c8ff75b3565" name="ab2b604364494c4bb061e3c8ff75b3565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b604364494c4bb061e3c8ff75b3565">&#9670;&#160;</a></span>pcilib_model_modification_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab2b604364494c4bb061e3c8ff75b3565afa2f073b46b5612ad6f1376df9c099f1" name="ab2b604364494c4bb061e3c8ff75b3565afa2f073b46b5612ad6f1376df9c099f1"></a>PCILIB_MODEL_MODIFICATON_FLAGS_DEFAULT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142" name="ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142"></a>PCILIB_MODEL_MODIFICATION_FLAG_OVERRIDE&#160;</td><td class="fielddoc"><p >Instructs to override the existing registers/banks/etc... </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204" name="ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204"></a>PCILIB_MODEL_MODIFICATION_FLAG_SKIP_EXISTING&#160;</td><td class="fielddoc"><p >If flag is set, pcilib will just skip existing registers/banks/etc instead of reporting a error. </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   35</span>             {</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_enumvalue" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565afa2f073b46b5612ad6f1376df9c099f1">PCILIB_MODEL_MODIFICATON_FLAGS_DEFAULT</a> = 0,</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_enumvalue" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142">PCILIB_MODEL_MODIFICATION_FLAG_OVERRIDE</a> = 1,                                </div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_enumvalue" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204">PCILIB_MODEL_MODIFICATION_FLAG_SKIP_EXISTING</a> = 2                            </div>
<div class="line"><span class="lineno">   39</span>} <a class="code hl_enumeration" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a>;</div>
<div class="ttc" id="abank_8h_html_ab2b604364494c4bb061e3c8ff75b3565"><div class="ttname"><a href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a></div><div class="ttdeci">pcilib_model_modification_flags_t</div><div class="ttdef"><b>Definition:</b> bank.h:35</div></div>
<div class="ttc" id="abank_8h_html_ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142"><div class="ttname"><a href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142">PCILIB_MODEL_MODIFICATION_FLAG_OVERRIDE</a></div><div class="ttdeci">@ PCILIB_MODEL_MODIFICATION_FLAG_OVERRIDE</div><div class="ttdoc">Instructs to override the existing registers/banks/etc...</div><div class="ttdef"><b>Definition:</b> bank.h:37</div></div>
<div class="ttc" id="abank_8h_html_ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204"><div class="ttname"><a href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204">PCILIB_MODEL_MODIFICATION_FLAG_SKIP_EXISTING</a></div><div class="ttdeci">@ PCILIB_MODEL_MODIFICATION_FLAG_SKIP_EXISTING</div><div class="ttdoc">If flag is set, pcilib will just skip existing registers/banks/etc instead of reporting a error.</div><div class="ttdef"><b>Definition:</b> bank.h:38</div></div>
<div class="ttc" id="abank_8h_html_ab2b604364494c4bb061e3c8ff75b3565afa2f073b46b5612ad6f1376df9c099f1"><div class="ttname"><a href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565afa2f073b46b5612ad6f1376df9c099f1">PCILIB_MODEL_MODIFICATON_FLAGS_DEFAULT</a></div><div class="ttdeci">@ PCILIB_MODEL_MODIFICATON_FLAGS_DEFAULT</div><div class="ttdef"><b>Definition:</b> bank.h:36</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1222fd326a61501597298c3e7e18ae5c" name="a1222fd326a61501597298c3e7e18ae5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1222fd326a61501597298c3e7e18ae5c">&#9670;&#160;</a></span>pcilib_add_register_banks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_add_register_banks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a> *&#160;</td>
          <td class="paramname"><em>banks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> *&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to add new register banks into the model or override configuration of the existing banks. </p>
<p >The function will copy the context of banks structure, but name, description, and other strings in the structure are considered to have static duration and will not be copied. On error no new banks are initalized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- instructs if existing banks should be reported as error (default), overriden or ignored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>- number of banks to initialize. It is OK to pass 0 if banks variable is NULL terminated (last member of banks array have all members set to 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">banks</td><td>- bank descriptions </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ids</td><td>- if specified will contain the ids of the newly registered and overriden banks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   84</span>                                                                                                                                                                              {</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> bank;</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordtype">size_t</span> dyn_banks = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a6cf0e66d52926ba03b039d06b57ed49d">dyn_banks</a>;</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordtype">size_t</span> num_banks = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">num_banks</a>;</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordtype">size_t</span> cur_banks = num_banks;</div>
<div class="line"><span class="lineno">   91</span>        </div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">if</span> (!n) {</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">for</span> (n = 0; banks[n].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">access</a>; n++);</div>
<div class="line"><span class="lineno">   94</span>    }</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> ((ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">num_banks</a> + n + 1) &gt; <a class="code hl_define" href="pci_8h.html#aec142a5ce5d601ce85db824ee760719f">PCILIB_MAX_REGISTER_BANKS</a>)</div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c">PCILIB_ERROR_TOOBIG</a>;</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">  100</span>            <span class="comment">// Try to find if the bank is already existing...</span></div>
<div class="line"><span class="lineno">  101</span>        bank = <a class="code hl_function" href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name</a>(ctx, banks[i].name);</div>
<div class="line"><span class="lineno">  102</span>        <span class="keywordflow">if</span> ((bank == <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>)&amp;&amp;(banks[i].addr != <a class="code hl_define" href="bank_8h.html#a75bfd839e9fddbc5da999395a6fed405">PCILIB_REGISTER_BANK_DYNAMIC</a>))</div>
<div class="line"><span class="lineno">  103</span>            bank = <a class="code hl_function" href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr</a>(ctx, banks[i].addr);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">if</span> (bank == <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>) {</div>
<div class="line"><span class="lineno">  106</span>            bank = num_banks++;</div>
<div class="line"><span class="lineno">  107</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags&amp;<a class="code hl_enumvalue" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204">PCILIB_MODEL_MODIFICATION_FLAG_SKIP_EXISTING</a>) {</div>
<div class="line"><span class="lineno">  108</span>            <span class="keywordflow">if</span> (ids) ids[i] = bank;</div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  110</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags&amp;<a class="code hl_enumvalue" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142">PCILIB_MODEL_MODIFICATION_FLAG_OVERRIDE</a>) == 0) {</div>
<div class="line"><span class="lineno">  111</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name</a>(ctx, banks[i].name) == <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>)</div>
<div class="line"><span class="lineno">  112</span>                <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;The bank %s is already existing and override flag is not set&quot;</span>, banks[i].name);</div>
<div class="line"><span class="lineno">  113</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  114</span>                <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;The bank with address 0x%lx is already existing and override flag is not set&quot;</span>, banks[i].addr);</div>
<div class="line"><span class="lineno">  115</span>            memset(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a> + ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">num_banks</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a>));</div>
<div class="line"><span class="lineno">  116</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d">PCILIB_ERROR_EXIST</a>;</div>
<div class="line"><span class="lineno">  117</span>        }</div>
<div class="line"><span class="lineno">  118</span>        </div>
<div class="line"><span class="lineno">  119</span>        memcpy(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a> + bank,  banks + i, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a>));</div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordflow">if</span> (ids) ids[i] = bank;</div>
<div class="line"><span class="lineno">  121</span>        </div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">if</span> (banks[i].addr == <a class="code hl_define" href="bank_8h.html#a75bfd839e9fddbc5da999395a6fed405">PCILIB_REGISTER_BANK_DYNAMIC</a>) {</div>
<div class="line"><span class="lineno">  123</span>            ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[bank].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">addr</a> = <a class="code hl_define" href="bank_8h.html#a75bfd839e9fddbc5da999395a6fed405">PCILIB_REGISTER_BANK_DYNAMIC</a> + dyn_banks + 1;</div>
<div class="line"><span class="lineno">  124</span>            dyn_banks++;</div>
<div class="line"><span class="lineno">  125</span>        }</div>
<div class="line"><span class="lineno">  126</span>    }</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">num_banks</a> = num_banks;</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>        <span class="comment">// If banks are already initialized, we need to re-run the initialization code</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#adfc40735827d7c148f7dd5e4b7b5457c">reg_bar_mapped</a>) {</div>
<div class="line"><span class="lineno">  132</span>        ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#adfc40735827d7c148f7dd5e4b7b5457c">reg_bar_mapped</a> = 0;</div>
<div class="line"><span class="lineno">  133</span>        err = <a class="code hl_function" href="bank_8c.html#a95ea0518e5c86b9ca1bbea948b5869bd">pcilib_init_register_banks</a>(ctx);</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><span class="lineno">  135</span>            ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">num_banks</a> = cur_banks;</div>
<div class="line"><span class="lineno">  136</span>            memset(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a> + ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">num_banks</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a>));</div>
<div class="line"><span class="lineno">  137</span>            <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  138</span>        }</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a6cf0e66d52926ba03b039d06b57ed49d">dyn_banks</a> = dyn_banks;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  144</span>}</div>
<div class="ttc" id="abank_8c_html_a95ea0518e5c86b9ca1bbea948b5869bd"><div class="ttname"><a href="bank_8c.html#a95ea0518e5c86b9ca1bbea948b5869bd">pcilib_init_register_banks</a></div><div class="ttdeci">int pcilib_init_register_banks(pcilib_t *ctx)</div><div class="ttdoc">Initalizes context of register banks.</div><div class="ttdef"><b>Definition:</b> bank.c:20</div></div>
<div class="ttc" id="abank_8c_html_ad546334a8814e53e9bf4c842ba0a5cd5"><div class="ttname"><a href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name</a></div><div class="ttdeci">pcilib_register_bank_t pcilib_find_register_bank_by_name(pcilib_t *ctx, const char *bankname)</div><div class="ttdoc">Find the register bank id (offset in banks array) corresponding to the specified bank name.</div><div class="ttdef"><b>Definition:</b> bank.c:185</div></div>
<div class="ttc" id="abank_8c_html_ae9929ece9a387bddb8e3b57bfcbcac92"><div class="ttname"><a href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr</a></div><div class="ttdeci">pcilib_register_bank_t pcilib_find_register_bank_by_addr(pcilib_t *ctx, pcilib_register_bank_addr_t bank)</div><div class="ttdoc">Find the register bank id (offset in banks array) corresponding to the specified bank address.</div><div class="ttdef"><b>Definition:</b> bank.c:176</div></div>
<div class="ttc" id="abank_8h_html_a1e23eec89ad5ac7e79a21ac008719cc4"><div class="ttname"><a href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a></div><div class="ttdeci">#define PCILIB_REGISTER_BANK_INVALID</div><div class="ttdef"><b>Definition:</b> bank.h:6</div></div>
<div class="ttc" id="abank_8h_html_a75bfd839e9fddbc5da999395a6fed405"><div class="ttname"><a href="bank_8h.html#a75bfd839e9fddbc5da999395a6fed405">PCILIB_REGISTER_BANK_DYNAMIC</a></div><div class="ttdeci">#define PCILIB_REGISTER_BANK_DYNAMIC</div><div class="ttdoc">First BANK address to map dynamic XML configuration.</div><div class="ttdef"><b>Definition:</b> bank.h:19</div></div>
<div class="ttc" id="abank_8h_html_a7dc74dfb74b49fc1c80cc5459493bee8"><div class="ttname"><a href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a></div><div class="ttdeci">uint8_t pcilib_register_bank_t</div><div class="ttdoc">Type holding the bank position within the field listing register banks in the model.</div><div class="ttdef"><b>Definition:</b> bank.h:28</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d">PCILIB_ERROR_EXIST</a></div><div class="ttdeci">@ PCILIB_ERROR_EXIST</div><div class="ttdef"><b>Definition:</b> error.h:33</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c">PCILIB_ERROR_TOOBIG</a></div><div class="ttdeci">@ PCILIB_ERROR_TOOBIG</div><div class="ttdef"><b>Definition:</b> error.h:30</div></div>
<div class="ttc" id="aerror_8h_html_a2b06064fecffd095efabb752f7b50021"><div class="ttname"><a href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a></div><div class="ttdeci">#define pcilib_error(...)</div><div class="ttdef"><b>Definition:</b> error.h:68</div></div>
<div class="ttc" id="apci_8h_html_aec142a5ce5d601ce85db824ee760719f"><div class="ttname"><a href="pci_8h.html#aec142a5ce5d601ce85db824ee760719f">PCILIB_MAX_REGISTER_BANKS</a></div><div class="ttdeci">#define PCILIB_MAX_REGISTER_BANKS</div><div class="ttdoc">maximum number of register banks to allocate space for</div><div class="ttdef"><b>Definition:</b> pci.h:13</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html"><div class="ttname"><a href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a></div><div class="ttdef"><b>Definition:</b> bank.h:70</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html_a24f04b5e08c8092d3a80422826df26bd"><div class="ttname"><a href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">pcilib_register_bank_description_t::access</a></div><div class="ttdeci">uint8_t access</div><div class="ttdoc">Default register size in bits (or word-size in plain addressing mode)</div><div class="ttdef"><b>Definition:</b> bank.h:78</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html_af5de91d652225dd715ef3d929e0e6244"><div class="ttname"><a href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">pcilib_register_bank_description_t::addr</a></div><div class="ttdeci">pcilib_register_bank_addr_t addr</div><div class="ttdoc">Bank address used in model for addressing the described register bank.</div><div class="ttdef"><b>Definition:</b> bank.h:71</div></div>
<div class="ttc" id="astructpcilib__s_html_a6cf0e66d52926ba03b039d06b57ed49d"><div class="ttname"><a href="structpcilib__s.html#a6cf0e66d52926ba03b039d06b57ed49d">pcilib_s::dyn_banks</a></div><div class="ttdeci">size_t dyn_banks</div><div class="ttdoc">Number of configured dynamic banks.</div><div class="ttdef"><b>Definition:</b> pci.h:79</div></div>
<div class="ttc" id="astructpcilib__s_html_a7f2f82869f7b6acd3a0cfba9dc4a00ed"><div class="ttname"><a href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a></div><div class="ttdeci">pcilib_register_bank_description_t banks[PCILIB_MAX_REGISTER_BANKS+1]</div><div class="ttdoc">List of currently defined register banks (from all sources)</div><div class="ttdef"><b>Definition:</b> pci.h:81</div></div>
<div class="ttc" id="astructpcilib__s_html_ad78675d0315a858f03e16cd9d50df678"><div class="ttname"><a href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">pcilib_s::num_banks</a></div><div class="ttdeci">size_t num_banks</div><div class="ttdef"><b>Definition:</b> pci.h:77</div></div>
<div class="ttc" id="astructpcilib__s_html_adfc40735827d7c148f7dd5e4b7b5457c"><div class="ttname"><a href="structpcilib__s.html#adfc40735827d7c148f7dd5e4b7b5457c">pcilib_s::reg_bar_mapped</a></div><div class="ttdeci">int reg_bar_mapped</div><div class="ttdoc">Indicates that all BARs used to access registers are mapped.</div><div class="ttdef"><b>Definition:</b> pci.h:64</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">pcilib_register_bank_description_t::access</a>, <a class="el" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">pcilib_register_bank_description_t::addr</a>, <a class="el" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a>, <a class="el" href="structpcilib__s.html#a6cf0e66d52926ba03b039d06b57ed49d">pcilib_s::dyn_banks</a>, <a class="el" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">pcilib_s::num_banks</a>, <a class="el" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d">PCILIB_ERROR_EXIST</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c">PCILIB_ERROR_TOOBIG</a>, <a class="el" href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr()</a>, <a class="el" href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name()</a>, <a class="el" href="bank_8c.html#a95ea0518e5c86b9ca1bbea948b5869bd">pcilib_init_register_banks()</a>, <a class="el" href="pci_8h.html#aec142a5ce5d601ce85db824ee760719f">PCILIB_MAX_REGISTER_BANKS</a>, <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a444759e5744e3842da4f74abb1728142">PCILIB_MODEL_MODIFICATION_FLAG_OVERRIDE</a>, <a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565a558c679db3d7b9a9f5022927f4849204">PCILIB_MODEL_MODIFICATION_FLAG_SKIP_EXISTING</a>, <a class="el" href="bank_8h.html#a75bfd839e9fddbc5da999395a6fed405">PCILIB_REGISTER_BANK_DYNAMIC</a>, <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>, and <a class="el" href="structpcilib__s.html#adfc40735827d7c148f7dd5e4b7b5457c">pcilib_s::reg_bar_mapped</a>.</p>

<p class="reference">Referenced by <a class="el" href="register_8c.html#aec9a0672eddac26362760345cea77508">pcilib_add_registers()</a>, <a class="el" href="property_8c.html#a6f859397a4f272589f043f72822419f2">pcilib_add_registers_from_properties()</a>, and <a class="el" href="group__public__api.html#gaa6d33dcd1de77fa87c66276653c164a0">pcilib_open()</a>.</p>

</div>
</div>
<a id="a98831e48d2e98f52418b1cfff7d66ee6" name="a98831e48d2e98f52418b1cfff7d66ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98831e48d2e98f52418b1cfff7d66ee6">&#9670;&#160;</a></span>pcilib_add_register_protocols()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_add_register_protocols </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpcilib__register__protocol__description__t.html">pcilib_register_protocol_description_t</a> *&#160;</td>
          <td class="paramname"><em>protocols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> *&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to add new register protocols into the model. </p>
<p >It is error to re-register already registered protocols. The function will copy the context of banks structure, but name, description, and other strings in the structure are considered to have static duration and will not be copied. On error no new protocols are initalized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- not used </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>- number of protocols to initialize. It is OK to pass 0 if protocols variable is NULL terminated (last member of protocols array have all members set to 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">protocols</td><td>- protocol descriptions </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ids</td><td>- if specified will contain the ids of the newly registered protocols </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  146</span>                                                                                                                                                                                              {</div>
<div class="line"><span class="lineno">  147</span>        <span class="comment">// DS: Override existing banks </span></div>
<div class="line"><span class="lineno">  148</span>        </div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (!n) {</div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">for</span> (n = 0; protocols[n].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">api</a>; n++);</div>
<div class="line"><span class="lineno">  151</span>    }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span> ((ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afeac991846124540f8b99a7342d8e46b">num_protocols</a> + n + 1) &gt; <a class="code hl_define" href="pci_8h.html#aba8ca7b59be172184b630ba0ead42c07">PCILIB_MAX_REGISTER_PROTOCOLS</a>)</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c">PCILIB_ERROR_TOOBIG</a>;</div>
<div class="line"><span class="lineno">  155</span>        </div>
<div class="line"><span class="lineno">  156</span>    memcpy(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a> + ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afeac991846124540f8b99a7342d8e46b">num_protocols</a>, protocols, n * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__register__protocol__description__t.html">pcilib_register_protocol_description_t</a>));</div>
<div class="line"><span class="lineno">  157</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afeac991846124540f8b99a7342d8e46b">num_protocols</a> += n;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  160</span>}</div>
<div class="ttc" id="apci_8h_html_aba8ca7b59be172184b630ba0ead42c07"><div class="ttname"><a href="pci_8h.html#aba8ca7b59be172184b630ba0ead42c07">PCILIB_MAX_REGISTER_PROTOCOLS</a></div><div class="ttdeci">#define PCILIB_MAX_REGISTER_PROTOCOLS</div><div class="ttdoc">maximum number of register protocols to support</div><div class="ttdef"><b>Definition:</b> pci.h:15</div></div>
<div class="ttc" id="astructpcilib__register__protocol__description__t_html"><div class="ttname"><a href="structpcilib__register__protocol__description__t.html">pcilib_register_protocol_description_t</a></div><div class="ttdef"><b>Definition:</b> bank.h:61</div></div>
<div class="ttc" id="astructpcilib__register__protocol__description__t_html_a12df5c27f8eb6b251e0d87407da4c5db"><div class="ttname"><a href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">pcilib_register_protocol_description_t::api</a></div><div class="ttdeci">const pcilib_register_protocol_api_description_t * api</div><div class="ttdoc">Defines all API functions for protocol.</div><div class="ttdef"><b>Definition:</b> bank.h:63</div></div>
<div class="ttc" id="astructpcilib__s_html_ad167ccf9fea54556af78d95e1813f685"><div class="ttname"><a href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">pcilib_s::protocols</a></div><div class="ttdeci">pcilib_register_protocol_description_t protocols[PCILIB_MAX_REGISTER_PROTOCOLS+1]</div><div class="ttdoc">List of currently defined register protocols (from all sources)</div><div class="ttdef"><b>Definition:</b> pci.h:83</div></div>
<div class="ttc" id="astructpcilib__s_html_afeac991846124540f8b99a7342d8e46b"><div class="ttname"><a href="structpcilib__s.html#afeac991846124540f8b99a7342d8e46b">pcilib_s::num_protocols</a></div><div class="ttdeci">size_t num_protocols</div><div class="ttdef"><b>Definition:</b> pci.h:77</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">pcilib_register_protocol_description_t::api</a>, <a class="el" href="structpcilib__s.html#afeac991846124540f8b99a7342d8e46b">pcilib_s::num_protocols</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c">PCILIB_ERROR_TOOBIG</a>, <a class="el" href="pci_8h.html#aba8ca7b59be172184b630ba0ead42c07">PCILIB_MAX_REGISTER_PROTOCOLS</a>, and <a class="el" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">pcilib_s::protocols</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__public__api.html#gaa6d33dcd1de77fa87c66276653c164a0">pcilib_open()</a>.</p>

</div>
</div>
<a id="aa43049952c5243dd020e98ef63cac4b0" name="aa43049952c5243dd020e98ef63cac4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa43049952c5243dd020e98ef63cac4b0">&#9670;&#160;</a></span>pcilib_add_register_ranges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_add_register_ranges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#ab2b604364494c4bb061e3c8ff75b3565">pcilib_model_modification_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpcilib__register__range__t.html">pcilib_register_range_t</a> *&#160;</td>
          <td class="paramname"><em>ranges</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to add new register ranges into the model. </p>
<p >It is error register overlapping registered ranges. On error no new ranges are initalized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- not used </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>- number of protocols to initialize. It is OK to pass 0 if protocols variable is NULL terminated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ranges</td><td>- range descriptions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  162</span>                                                                                                                                        {</div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">if</span> (!n) {</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">for</span> (n = 0; ranges[n].<a class="code hl_variable" href="structpcilib__register__range__t.html#a738fcb6aef46ff96a1e233b862772a0f">end</a>; n++);</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">if</span> ((ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a44ca6211112d0322f885b3e3a8b94652">num_ranges</a> + n + 1) &gt; <a class="code hl_define" href="pci_8h.html#a8f528321c3794f6ded0612fbb82c6359">PCILIB_MAX_REGISTER_RANGES</a>)</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c">PCILIB_ERROR_TOOBIG</a>;</div>
<div class="line"><span class="lineno">  169</span>        </div>
<div class="line"><span class="lineno">  170</span>    memcpy(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a204e280481f826289ca05b2c588f30d2">ranges</a> + ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a44ca6211112d0322f885b3e3a8b94652">num_ranges</a>, ranges, n * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__register__range__t.html">pcilib_register_range_t</a>));</div>
<div class="line"><span class="lineno">  171</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a44ca6211112d0322f885b3e3a8b94652">num_ranges</a> += n;</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  174</span>}</div>
<div class="ttc" id="apci_8h_html_a8f528321c3794f6ded0612fbb82c6359"><div class="ttname"><a href="pci_8h.html#a8f528321c3794f6ded0612fbb82c6359">PCILIB_MAX_REGISTER_RANGES</a></div><div class="ttdeci">#define PCILIB_MAX_REGISTER_RANGES</div><div class="ttdoc">maximum number of register ranges to allocate space for</div><div class="ttdef"><b>Definition:</b> pci.h:14</div></div>
<div class="ttc" id="astructpcilib__register__range__t_html"><div class="ttname"><a href="structpcilib__register__range__t.html">pcilib_register_range_t</a></div><div class="ttdoc">Default mappings: defines virtual address to register mappings, i.e.</div><div class="ttdef"><b>Definition:</b> bank.h:98</div></div>
<div class="ttc" id="astructpcilib__register__range__t_html_a738fcb6aef46ff96a1e233b862772a0f"><div class="ttname"><a href="structpcilib__register__range__t.html#a738fcb6aef46ff96a1e233b862772a0f">pcilib_register_range_t::end</a></div><div class="ttdeci">uintptr_t end</div><div class="ttdoc">The last virtual address of the register range.</div><div class="ttdef"><b>Definition:</b> bank.h:100</div></div>
<div class="ttc" id="astructpcilib__s_html_a204e280481f826289ca05b2c588f30d2"><div class="ttname"><a href="structpcilib__s.html#a204e280481f826289ca05b2c588f30d2">pcilib_s::ranges</a></div><div class="ttdeci">pcilib_register_range_t ranges[PCILIB_MAX_REGISTER_RANGES+1]</div><div class="ttdoc">List of currently defined register ranges (from all sources)</div><div class="ttdef"><b>Definition:</b> pci.h:82</div></div>
<div class="ttc" id="astructpcilib__s_html_a44ca6211112d0322f885b3e3a8b94652"><div class="ttname"><a href="structpcilib__s.html#a44ca6211112d0322f885b3e3a8b94652">pcilib_s::num_ranges</a></div><div class="ttdeci">size_t num_ranges</div><div class="ttdoc">Number of registered banks, protocols, and register ranges.</div><div class="ttdef"><b>Definition:</b> pci.h:77</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__range__t.html#a738fcb6aef46ff96a1e233b862772a0f">pcilib_register_range_t::end</a>, <a class="el" href="structpcilib__s.html#a44ca6211112d0322f885b3e3a8b94652">pcilib_s::num_ranges</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca7216549f8c6e0fcfa31e1c82c339543c">PCILIB_ERROR_TOOBIG</a>, <a class="el" href="pci_8h.html#a8f528321c3794f6ded0612fbb82c6359">PCILIB_MAX_REGISTER_RANGES</a>, and <a class="el" href="structpcilib__s.html#a204e280481f826289ca05b2c588f30d2">pcilib_s::ranges</a>.</p>

</div>
</div>
<a id="a25360529598bbfc4f64d8ab3af4f49b7" name="a25360529598bbfc4f64d8ab3af4f49b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25360529598bbfc4f64d8ab3af4f49b7">&#9670;&#160;</a></span>pcilib_find_register_bank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> pcilib_find_register_bank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the register bank id (offset in <em>banks</em> array) corresponding to the specified bank name or address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bank</td><td>- either the name or the address of the required register bank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- bank id or PCILIB_REGISTER_BANK_INVALID if bank is not found </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  194</span>                                                                                  {</div>
<div class="line"><span class="lineno">  195</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> res;</div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> addr;</div>
<div class="line"><span class="lineno">  197</span>    </div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">if</span> (!bank) {</div>
<div class="line"><span class="lineno">  199</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__model__description__t.html">pcilib_model_description_t</a> *model_info = <a class="code hl_function" href="model_8c.html#ae7954738bb4b923ee87520c4538ba873">pcilib_get_model_description</a>(ctx);</div>
<div class="line"><span class="lineno">  200</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a> *banks = model_info-&gt;<a class="code hl_variable" href="structpcilib__model__description__t.html#a6fddbe5370638b080c33d1907791d8a7">banks</a>;</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">if</span> ((banks)&amp;&amp;(banks[0].access)) <span class="keywordflow">return</span> (<a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>)0;</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>;</div>
<div class="line"><span class="lineno">  203</span>    }</div>
<div class="line"><span class="lineno">  204</span>    </div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="tools_8c.html#a36ff01715214918ab58fd300dec4edbe">pcilib_isxnumber</a>(bank)&amp;&amp;(sscanf(bank,<span class="stringliteral">&quot;%lx&quot;</span>, &amp;addr) == 1)) {</div>
<div class="line"><span class="lineno">  206</span>        res = <a class="code hl_function" href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr</a>(ctx, addr);</div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">if</span> (res != <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>) <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  208</span>    }</div>
<div class="line"><span class="lineno">  209</span>    </div>
<div class="line"><span class="lineno">  210</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name</a>(ctx, bank);</div>
<div class="line"><span class="lineno">  211</span>}</div>
<div class="ttc" id="amodel_8c_html_ae7954738bb4b923ee87520c4538ba873"><div class="ttname"><a href="model_8c.html#ae7954738bb4b923ee87520c4538ba873">pcilib_get_model_description</a></div><div class="ttdeci">const pcilib_model_description_t * pcilib_get_model_description(pcilib_t *ctx)</div><div class="ttdef"><b>Definition:</b> model.c:20</div></div>
<div class="ttc" id="astructpcilib__model__description__t_html"><div class="ttname"><a href="structpcilib__model__description__t.html">pcilib_model_description_t</a></div><div class="ttdef"><b>Definition:</b> model.h:12</div></div>
<div class="ttc" id="astructpcilib__model__description__t_html_a6fddbe5370638b080c33d1907791d8a7"><div class="ttname"><a href="structpcilib__model__description__t.html#a6fddbe5370638b080c33d1907791d8a7">pcilib_model_description_t::banks</a></div><div class="ttdeci">const pcilib_register_bank_description_t * banks</div><div class="ttdef"><b>Definition:</b> model.h:19</div></div>
<div class="ttc" id="atools_8c_html_a36ff01715214918ab58fd300dec4edbe"><div class="ttname"><a href="tools_8c.html#a36ff01715214918ab58fd300dec4edbe">pcilib_isxnumber</a></div><div class="ttdeci">int pcilib_isxnumber(const char *str)</div><div class="ttdoc">Check if provided string is a hexdecimal integer, optionally prefexed with 0x.</div><div class="ttdef"><b>Definition:</b> tools.c:26</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__model__description__t.html#a6fddbe5370638b080c33d1907791d8a7">pcilib_model_description_t::banks</a>, <a class="el" href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr()</a>, <a class="el" href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name()</a>, <a class="el" href="model_8c.html#ae7954738bb4b923ee87520c4538ba873">pcilib_get_model_description()</a>, <a class="el" href="tools_8c.html#a36ff01715214918ab58fd300dec4edbe">pcilib_isxnumber()</a>, and <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__public__api__register.html#ga3daa74bb374dd836d0a3f33c2b5543a0">pcilib_find_register()</a>, <a class="el" href="group__public__api__register.html#ga9bab8db43eb25e6412e0a7b4c129526f">pcilib_read_register_space()</a>, <a class="el" href="bank_8c.html#ad42f7dd537a62b145d452df97216ac29">pcilib_resolve_bank_address()</a>, and <a class="el" href="group__public__api__register.html#ga0ae902d888b44470b4b7c49d85e5f5d9">pcilib_write_register_space()</a>.</p>

</div>
</div>
<a id="ae9929ece9a387bddb8e3b57bfcbcac92" name="ae9929ece9a387bddb8e3b57bfcbcac92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9929ece9a387bddb8e3b57bfcbcac92">&#9670;&#160;</a></span>pcilib_find_register_bank_by_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> pcilib_find_register_bank_by_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a7f3dcbb4f48be84815251627b025785a">pcilib_register_bank_addr_t</a>&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the register bank id (offset in <em>banks</em> array) corresponding to the specified bank address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bank</td><td>- the address of register bank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- bank id or PCILIB_REGISTER_BANK_INVALID if bank is not found </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  176</span>                                                                                                          {</div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> i;</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">for</span> (i = 0; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[i].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">access</a>; i++)</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[i].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">addr</a> == bank) <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>;</div>
<div class="line"><span class="lineno">  183</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">pcilib_register_bank_description_t::access</a>, <a class="el" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">pcilib_register_bank_description_t::addr</a>, <a class="el" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a>, and <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#a1222fd326a61501597298c3e7e18ae5c">pcilib_add_register_banks()</a>, <a class="el" href="register_8c.html#aec9a0672eddac26362760345cea77508">pcilib_add_registers()</a>, <a class="el" href="property_8c.html#a6f859397a4f272589f043f72822419f2">pcilib_add_registers_from_properties()</a>, <a class="el" href="bank_8c.html#a25360529598bbfc4f64d8ab3af4f49b7">pcilib_find_register_bank()</a>, <a class="el" href="group__public__api__register.html#ga8cd5426b8935f02e8af3493794f5f8df">pcilib_get_register_info()</a>, <a class="el" href="group__public__api__register.html#ga7b046d8fe3625632bc39347de3ea650d">pcilib_read_register_by_id()</a>, and <a class="el" href="group__public__api__register.html#ga00095c59802279eae4032c6a714d493b">pcilib_write_register_by_id()</a>.</p>

</div>
</div>
<a id="ad546334a8814e53e9bf4c842ba0a5cd5" name="ad546334a8814e53e9bf4c842ba0a5cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad546334a8814e53e9bf4c842ba0a5cd5">&#9670;&#160;</a></span>pcilib_find_register_bank_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> pcilib_find_register_bank_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bankname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the register bank id (offset in <em>banks</em> array) corresponding to the specified bank name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bankname</td><td>- the name of register bank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- bank id or PCILIB_REGISTER_BANK_INVALID if bank is not found </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  185</span>                                                                                              {</div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> i;</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">for</span> (i = 0; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[i].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">access</a>; i++)</div>
<div class="line"><span class="lineno">  189</span>        <span class="keywordflow">if</span> (!strcasecmp(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[i].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">name</a>, bankname)) <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>;</div>
<div class="line"><span class="lineno">  192</span>}</div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html_a298ffc16d83bc9af017a9262f76eec1b"><div class="ttname"><a href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">pcilib_register_bank_description_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">short bank name</div><div class="ttdef"><b>Definition:</b> bank.h:86</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">pcilib_register_bank_description_t::access</a>, <a class="el" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a>, <a class="el" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">pcilib_register_bank_description_t::name</a>, and <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#a1222fd326a61501597298c3e7e18ae5c">pcilib_add_register_banks()</a>, <a class="el" href="bank_8c.html#a25360529598bbfc4f64d8ab3af4f49b7">pcilib_find_register_bank()</a>, <a class="el" href="bank_8c.html#a1255fbc372a6a5862236a4ef337828bb">pcilib_get_register_bank_attr()</a>, and <a class="el" href="group__public__api__register.html#ga8cd5426b8935f02e8af3493794f5f8df">pcilib_get_register_info()</a>.</p>

</div>
</div>
<a id="a807e1ce8d46cf8964061d9ed97f1fc85" name="a807e1ce8d46cf8964061d9ed97f1fc85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807e1ce8d46cf8964061d9ed97f1fc85">&#9670;&#160;</a></span>pcilib_find_register_protocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> pcilib_find_register_protocol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the register protocol id (offset in <em>protocols</em> array) corresponding to the specified protocol name or address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>- either the name or the address of the required register protocol </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- protocol id or PCILIB_REGISTER_PROTOCOL_INVALID if register protocol is not found </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  263</span>                                                                                              {</div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> res;</div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> addr;</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="tools_8c.html#a36ff01715214918ab58fd300dec4edbe">pcilib_isxnumber</a>(protocol)&amp;&amp;(sscanf(protocol,<span class="stringliteral">&quot;%lx&quot;</span>, &amp;addr) == 1)) {</div>
<div class="line"><span class="lineno">  268</span>        res = <a class="code hl_function" href="bank_8c.html#abfa7cb95fe1f0d5523e2aa324a903d58">pcilib_find_register_protocol_by_addr</a>(ctx, addr);</div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">if</span> (res != <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>) <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  270</span>    }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bank_8c.html#a786e13bec0ea8160f16e327dadbe8f98">pcilib_find_register_protocol_by_name</a>(ctx, protocol);</div>
<div class="line"><span class="lineno">  273</span>}</div>
<div class="ttc" id="abank_8c_html_a786e13bec0ea8160f16e327dadbe8f98"><div class="ttname"><a href="bank_8c.html#a786e13bec0ea8160f16e327dadbe8f98">pcilib_find_register_protocol_by_name</a></div><div class="ttdeci">pcilib_register_protocol_t pcilib_find_register_protocol_by_name(pcilib_t *ctx, const char *name)</div><div class="ttdoc">Find the register protocol id (offset in protocols array) corresponding to the specified protocol nam...</div><div class="ttdef"><b>Definition:</b> bank.c:254</div></div>
<div class="ttc" id="abank_8c_html_abfa7cb95fe1f0d5523e2aa324a903d58"><div class="ttname"><a href="bank_8c.html#abfa7cb95fe1f0d5523e2aa324a903d58">pcilib_find_register_protocol_by_addr</a></div><div class="ttdeci">pcilib_register_protocol_t pcilib_find_register_protocol_by_addr(pcilib_t *ctx, pcilib_register_protocol_addr_t protocol)</div><div class="ttdoc">Find the register protocol id (offset in protocols array) corresponding to the specified protocol add...</div><div class="ttdef"><b>Definition:</b> bank.c:245</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bank_8c.html#abfa7cb95fe1f0d5523e2aa324a903d58">pcilib_find_register_protocol_by_addr()</a>, <a class="el" href="bank_8c.html#a786e13bec0ea8160f16e327dadbe8f98">pcilib_find_register_protocol_by_name()</a>, <a class="el" href="tools_8c.html#a36ff01715214918ab58fd300dec4edbe">pcilib_isxnumber()</a>, and <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>.</p>

</div>
</div>
<a id="abfa7cb95fe1f0d5523e2aa324a903d58" name="abfa7cb95fe1f0d5523e2aa324a903d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa7cb95fe1f0d5523e2aa324a903d58">&#9670;&#160;</a></span>pcilib_find_register_protocol_by_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> pcilib_find_register_protocol_by_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a7a94b09b7d247b178f851826379c3c1e">pcilib_register_protocol_addr_t</a>&#160;</td>
          <td class="paramname"><em>protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the register protocol id (offset in <em>protocols</em> array) corresponding to the specified protocol address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">protocol</td><td>- the address of register protocol </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- protocol id or PCILIB_REGISTER_PROTOCOL_INVALID if register protocol is not found </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  245</span>                                                                                                                          {</div>
<div class="line"><span class="lineno">  246</span>    <a class="code hl_typedef" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> i;</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">for</span> (i = 0; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a>[i].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">api</a>; i++)</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a>[i].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#aab2d4d6e3cb739df03619aa0dea7161c">addr</a> == protocol) <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a>;</div>
<div class="line"><span class="lineno">  252</span>}</div>
<div class="ttc" id="abank_8h_html_a3319fcb1457aef5bc7123b420f6af6eb"><div class="ttname"><a href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a></div><div class="ttdeci">#define PCILIB_REGISTER_PROTOCOL_INVALID</div><div class="ttdef"><b>Definition:</b> bank.h:20</div></div>
<div class="ttc" id="abank_8h_html_afdd144da6c35e3a78344de4dd4e77445"><div class="ttname"><a href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a></div><div class="ttdeci">uint8_t pcilib_register_protocol_t</div><div class="ttdoc">Type holding the protocol position within the field listing register protocols in the model.</div><div class="ttdef"><b>Definition:</b> bank.h:30</div></div>
<div class="ttc" id="astructpcilib__register__protocol__description__t_html_aab2d4d6e3cb739df03619aa0dea7161c"><div class="ttname"><a href="structpcilib__register__protocol__description__t.html#aab2d4d6e3cb739df03619aa0dea7161c">pcilib_register_protocol_description_t::addr</a></div><div class="ttdeci">pcilib_register_protocol_addr_t addr</div><div class="ttdoc">Protocol address used in model for addressing the described protocol.</div><div class="ttdef"><b>Definition:</b> bank.h:62</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__protocol__description__t.html#aab2d4d6e3cb739df03619aa0dea7161c">pcilib_register_protocol_description_t::addr</a>, <a class="el" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">pcilib_register_protocol_description_t::api</a>, <a class="el" href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a>, and <a class="el" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">pcilib_s::protocols</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#a39a4ed11141c115ccd9f27ef9a0a89d5">pcilib_find_register_protocol()</a>, and <a class="el" href="bank_8c.html#a95ea0518e5c86b9ca1bbea948b5869bd">pcilib_init_register_banks()</a>.</p>

</div>
</div>
<a id="a786e13bec0ea8160f16e327dadbe8f98" name="a786e13bec0ea8160f16e327dadbe8f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a786e13bec0ea8160f16e327dadbe8f98">&#9670;&#160;</a></span>pcilib_find_register_protocol_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> pcilib_find_register_protocol_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the register protocol id (offset in <em>protocols</em> array) corresponding to the specified protocol name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>- the name of register protocol </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- protocol id or PCILIB_REGISTER_PROTOCOL_INVALID if register protocol is not found </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  254</span>                                                                                                  {</div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_typedef" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> i;</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">for</span> (i = 0; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a>[i].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">api</a>; i++)</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">if</span> (!strcasecmp(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a>[i].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#a15820877c6fbdfb02555587f900c6708">name</a>, name)) <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a>;</div>
<div class="line"><span class="lineno">  261</span>}</div>
<div class="ttc" id="astructpcilib__register__protocol__description__t_html_a15820877c6fbdfb02555587f900c6708"><div class="ttname"><a href="structpcilib__register__protocol__description__t.html#a15820877c6fbdfb02555587f900c6708">pcilib_register_protocol_description_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Short protocol name.</div><div class="ttdef"><b>Definition:</b> bank.h:66</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">pcilib_register_protocol_description_t::api</a>, <a class="el" href="structpcilib__register__protocol__description__t.html#a15820877c6fbdfb02555587f900c6708">pcilib_register_protocol_description_t::name</a>, <a class="el" href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a>, and <a class="el" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">pcilib_s::protocols</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#a39a4ed11141c115ccd9f27ef9a0a89d5">pcilib_find_register_protocol()</a>.</p>

</div>
</div>
<a id="a6aaad6dc76ed23efacb455438be5c27a" name="a6aaad6dc76ed23efacb455438be5c27a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aaad6dc76ed23efacb455438be5c27a">&#9670;&#160;</a></span>pcilib_free_register_banks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcilib_free_register_banks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>&#160;</td>
          <td class="paramname"><em>start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys contexts of register banks. </p>
<p >This is an internal function and will be called during clean-up. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start</td><td>- specifies first bank to clean (used to clean only part of the banks to keep the defined state if pcilib_init_register_banks has failed) </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                                                                             {</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">for</span> (i = start; i &lt; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>; i++) {</div>
<div class="line"><span class="lineno">   69</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__register__protocol__api__description__t.html">pcilib_register_protocol_api_description_t</a> *bapi = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[i]-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">api</a>;</div>
<div class="line"><span class="lineno">   70</span>        </div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[i]) {</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">if</span> (bapi-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#a3737a9b6876b2a4d03a7179f93ff6f93">free</a>)</div>
<div class="line"><span class="lineno">   73</span>                bapi-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#a3737a9b6876b2a4d03a7179f93ff6f93">free</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[i]);</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   75</span>                free(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[i]);</div>
<div class="line"><span class="lineno">   76</span>                </div>
<div class="line"><span class="lineno">   77</span>            ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[i] = NULL;</div>
<div class="line"><span class="lineno">   78</span>        }</div>
<div class="line"><span class="lineno">   79</span>    }</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a> = start;</div>
<div class="line"><span class="lineno">   82</span>}</div>
<div class="ttc" id="astructpcilib__register__bank__context__s_html_a13d2907397753038b7782855930ff28b"><div class="ttname"><a href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">pcilib_register_bank_context_s::api</a></div><div class="ttdeci">const pcilib_register_protocol_api_description_t * api</div><div class="ttdoc">API functions.</div><div class="ttdef"><b>Definition:</b> bank.h:109</div></div>
<div class="ttc" id="astructpcilib__register__protocol__api__description__t_html"><div class="ttname"><a href="structpcilib__register__protocol__api__description__t.html">pcilib_register_protocol_api_description_t</a></div><div class="ttdef"><b>Definition:</b> bank.h:51</div></div>
<div class="ttc" id="astructpcilib__register__protocol__api__description__t_html_a3737a9b6876b2a4d03a7179f93ff6f93"><div class="ttname"><a href="structpcilib__register__protocol__api__description__t.html#a3737a9b6876b2a4d03a7179f93ff6f93">pcilib_register_protocol_api_description_t::free</a></div><div class="ttdeci">void(* free)(pcilib_t *pcilib, pcilib_register_bank_context_t *ctx)</div><div class="ttdoc">Optional API call to cleanup bank context.</div><div class="ttdef"><b>Definition:</b> bank.h:55</div></div>
<div class="ttc" id="astructpcilib__s_html_a245fcc8f7fc634335bae0bb1001977e2"><div class="ttname"><a href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">pcilib_s::num_banks_init</a></div><div class="ttdeci">size_t num_banks_init</div><div class="ttdoc">Number of initialized banks.</div><div class="ttdef"><b>Definition:</b> pci.h:75</div></div>
<div class="ttc" id="astructpcilib__s_html_a53d85e0f2155263085878bd1ae4c8b6d"><div class="ttname"><a href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">pcilib_s::bank_ctx</a></div><div class="ttdeci">pcilib_register_bank_context_t * bank_ctx[PCILIB_MAX_REGISTER_BANKS]</div><div class="ttdoc">Contexts for registers banks if required by register protocol.</div><div class="ttdef"><b>Definition:</b> pci.h:88</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">pcilib_register_bank_context_s::api</a>, <a class="el" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">pcilib_s::bank_ctx</a>, <a class="el" href="structpcilib__register__protocol__api__description__t.html#a3737a9b6876b2a4d03a7179f93ff6f93">pcilib_register_protocol_api_description_t::free</a>, and <a class="el" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">pcilib_s::num_banks_init</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__public__api.html#ga809b61586ed9c56a7510c607859e75e3">pcilib_close()</a>, and <a class="el" href="bank_8c.html#a95ea0518e5c86b9ca1bbea948b5869bd">pcilib_init_register_banks()</a>.</p>

</div>
</div>
<a id="a1255fbc372a6a5862236a4ef337828bb" name="a1255fbc372a6a5862236a4ef337828bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1255fbc372a6a5862236a4ef337828bb">&#9670;&#160;</a></span>pcilib_get_register_bank_attr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_get_register_bank_attr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bankname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpcilib__value__t.html">pcilib_value_t</a> *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts additional information about the specified register bank. </p>
<p >The additional information is model-specific and are provided as extra XML attributes in XML-described register bank. The available attributes are only restricted by used XSD schema. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bankname</td><td>- the name of register bank </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>- requested attribute name </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">val</td><td>- the value of attribute is returned here (see <a class="el" href="group__public__api__value.html">Polymorphic values</a>), <a class="el" href="group__public__api__value.html#gaf15306a31d94f9a84903e30af981df89" title="Destroys the polymorphic value and frees any extra used memory, but does not free pcilib_value_t itse...">pcilib_clean_value()</a> will be executed if <em>val</em> contains data. Therefore it should be always initialized to 0 before first use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error code or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  320</span>                                                                                                              {</div>
<div class="line"><span class="lineno">  321</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> bank;</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>    bank = <a class="code hl_function" href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name</a>(ctx, bankname);</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (bank == <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>) {</div>
<div class="line"><span class="lineno">  325</span>        <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;Bank (%s) is not found&quot;</span>, bankname);</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c">PCILIB_ERROR_NOTFOUND</a>;</div>
<div class="line"><span class="lineno">  327</span>    }</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bank_8c.html#a1618f888b4b8f27159734761ffc1099d">pcilib_get_register_bank_attr_by_id</a>(ctx, bank, attr, val);</div>
<div class="line"><span class="lineno">  330</span>}</div>
<div class="ttc" id="abank_8c_html_a1618f888b4b8f27159734761ffc1099d"><div class="ttname"><a href="bank_8c.html#a1618f888b4b8f27159734761ffc1099d">pcilib_get_register_bank_attr_by_id</a></div><div class="ttdeci">int pcilib_get_register_bank_attr_by_id(pcilib_t *ctx, pcilib_register_bank_t bank, const char *attr, pcilib_value_t *val)</div><div class="ttdoc">Extracts additional information about the specified register bank.</div><div class="ttdef"><b>Definition:</b> bank.c:314</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c">PCILIB_ERROR_NOTFOUND</a></div><div class="ttdeci">@ PCILIB_ERROR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> error.h:25</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c">PCILIB_ERROR_NOTFOUND</a>, <a class="el" href="bank_8c.html#ad546334a8814e53e9bf4c842ba0a5cd5">pcilib_find_register_bank_by_name()</a>, <a class="el" href="bank_8c.html#a1618f888b4b8f27159734761ffc1099d">pcilib_get_register_bank_attr_by_id()</a>, and <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>.</p>

</div>
</div>
<a id="a1618f888b4b8f27159734761ffc1099d" name="a1618f888b4b8f27159734761ffc1099d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1618f888b4b8f27159734761ffc1099d">&#9670;&#160;</a></span>pcilib_get_register_bank_attr_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_get_register_bank_attr_by_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>&#160;</td>
          <td class="paramname"><em>bank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpcilib__value__t.html">pcilib_value_t</a> *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts additional information about the specified register bank. </p>
<p >The additional information is model-specific and are provided as extra XML attributes in XML-described register bank. The available attributes are only restricted by used XSD schema. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bank</td><td>- register bank id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>- requested attribute name </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">val</td><td>- the value of attribute is returned here (see <a class="el" href="group__public__api__value.html">Polymorphic values</a>), <a class="el" href="group__public__api__value.html#gaf15306a31d94f9a84903e30af981df89" title="Destroys the polymorphic value and frees any extra used memory, but does not free pcilib_value_t itse...">pcilib_clean_value()</a> will be executed if <em>val</em> contains data. Therefore it should be always initialized to 0 before first use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error code or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  314</span>                                                                                                                           {</div>
<div class="line"><span class="lineno">  315</span>    assert(bank &lt; ctx-&gt;num_banks);</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="xml_8c.html#a51cd7a11d09f76993c522edd3dfa6021">pcilib_get_xml_attr</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[bank]-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a64fc3ef4ae6f1830e4befff8a4f703a4">xml</a>, attr, val);</div>
<div class="line"><span class="lineno">  318</span>}</div>
<div class="ttc" id="astructpcilib__register__bank__context__s_html_a64fc3ef4ae6f1830e4befff8a4f703a4"><div class="ttname"><a href="structpcilib__register__bank__context__s.html#a64fc3ef4ae6f1830e4befff8a4f703a4">pcilib_register_bank_context_s::xml</a></div><div class="ttdeci">pcilib_xml_node_t * xml</div><div class="ttdoc">Additional XML properties.</div><div class="ttdef"><b>Definition:</b> bank.h:110</div></div>
<div class="ttc" id="axml_8c_html_a51cd7a11d09f76993c522edd3dfa6021"><div class="ttname"><a href="xml_8c.html#a51cd7a11d09f76993c522edd3dfa6021">pcilib_get_xml_attr</a></div><div class="ttdeci">int pcilib_get_xml_attr(pcilib_t *ctx, pcilib_xml_node_t *node, const char *attr, pcilib_value_t *val)</div><div class="ttdoc">This is an internal function which returns a specified node attribute in the pcilib_value_t structure...</div><div class="ttdef"><b>Definition:</b> xml.c:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">pcilib_s::bank_ctx</a>, <a class="el" href="xml_8c.html#a51cd7a11d09f76993c522edd3dfa6021">pcilib_get_xml_attr()</a>, and <a class="el" href="structpcilib__register__bank__context__s.html#a64fc3ef4ae6f1830e4befff8a4f703a4">pcilib_register_bank_context_s::xml</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#a1255fbc372a6a5862236a4ef337828bb">pcilib_get_register_bank_attr()</a>.</p>

</div>
</div>
<a id="a95ea0518e5c86b9ca1bbea948b5869bd" name="a95ea0518e5c86b9ca1bbea948b5869bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ea0518e5c86b9ca1bbea948b5869bd">&#9670;&#160;</a></span>pcilib_init_register_banks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_init_register_banks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initalizes context of register banks. </p>
<p >This is an internal function and will be called automatically when new register banks are added. On error no new banks are initalized </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   20</span>                                              {</div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordtype">int</span> err; </div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordtype">size_t</span> start = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>;</div>
<div class="line"><span class="lineno">   23</span> </div>
<div class="line"><span class="lineno">   24</span>    err = <a class="code hl_function" href="bar_8c.html#ab8719d195c10a67241594fce48c5a70e">pcilib_map_register_space</a>(ctx);</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordflow">if</span> (err) <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">for</span> (; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a> &lt; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">num_banks</a>; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>++) {</div>
<div class="line"><span class="lineno">   28</span>        <a class="code hl_struct" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_t</a> *bank_ctx;</div>
<div class="line"><span class="lineno">   29</span>        <a class="code hl_typedef" href="bank_8h.html#afdd144da6c35e3a78344de4dd4e77445">pcilib_register_protocol_t</a> protocol;</div>
<div class="line"><span class="lineno">   30</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__register__protocol__api__description__t.html">pcilib_register_protocol_api_description_t</a> *bapi;</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>        protocol = <a class="code hl_function" href="bank_8c.html#abfa7cb95fe1f0d5523e2aa324a903d58">pcilib_find_register_protocol_by_addr</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a953199333b16e01653c78d7889d5bca5">protocol</a>);</div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">if</span> (protocol == <a class="code hl_define" href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a>) {</div>
<div class="line"><span class="lineno">   34</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *name = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">name</a>;</div>
<div class="line"><span class="lineno">   35</span>            <span class="keywordflow">if</span> (!name) name = <span class="stringliteral">&quot;unnamed&quot;</span>;</div>
<div class="line"><span class="lineno">   36</span>            <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;Invalid register protocol address (%u) is specified for bank %i (%s)&quot;</span>, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a953199333b16e01653c78d7889d5bca5">protocol</a>, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">addr</a>, name);</div>
<div class="line"><span class="lineno">   37</span>            <a class="code hl_function" href="bank_8c.html#a6aaad6dc76ed23efacb455438be5c27a">pcilib_free_register_banks</a>(ctx, start);</div>
<div class="line"><span class="lineno">   38</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca9a217d79d35fe9382b46f9f536a6622f">PCILIB_ERROR_INVALID_BANK</a>;</div>
<div class="line"><span class="lineno">   39</span>        }</div>
<div class="line"><span class="lineno">   40</span>        </div>
<div class="line"><span class="lineno">   41</span>        bapi = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a>[protocol].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">api</a>;</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>        <span class="keywordflow">if</span> (bapi-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#ab0370ca06ee0b00d42b17e5341d57aa3">init</a>) {</div>
<div class="line"><span class="lineno">   44</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *model = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a>[protocol].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#adef5c13b2d55e9ff2b0f62367fbba83d">model</a>;</div>
<div class="line"><span class="lineno">   45</span>            <span class="keywordflow">if</span> (!model) model = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a124451df7bcbe85a2d9b7e8cb19814f9">model</a>;</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>            bank_ctx = bapi-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#ab0370ca06ee0b00d42b17e5341d57aa3">init</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>, model, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">protocols</a>[protocol].<a class="code hl_variable" href="structpcilib__register__protocol__description__t.html#aff5507074c593dfd40316c906453041e">args</a>);</div>
<div class="line"><span class="lineno">   48</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   49</span>            bank_ctx = (<a class="code hl_struct" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_t</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_t</a>));</div>
<div class="line"><span class="lineno">   50</span>        </div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">if</span> (!bank_ctx) {</div>
<div class="line"><span class="lineno">   52</span>            <a class="code hl_function" href="bank_8c.html#a6aaad6dc76ed23efacb455438be5c27a">pcilib_free_register_banks</a>(ctx, start);</div>
<div class="line"><span class="lineno">   53</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c">PCILIB_ERROR_FAILED</a>;</div>
<div class="line"><span class="lineno">   54</span>        }</div>
<div class="line"><span class="lineno">   55</span>        </div>
<div class="line"><span class="lineno">   56</span>        bank_ctx-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a6f1d04a3c26765e6108ee440d66cf2ac">bank</a> = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a> + ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>;</div>
<div class="line"><span class="lineno">   57</span>        bank_ctx-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">api</a> = bapi;</div>
<div class="line"><span class="lineno">   58</span>        bank_ctx-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a64fc3ef4ae6f1830e4befff8a4f703a4">xml</a> = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a85dfd00a79f8cab8ff1413db17851356">xml</a>.<a class="code hl_variable" href="structpcilib__xml__s.html#a05d4d978d68a1b29109f6d1fa6242373">bank_nodes</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>];</div>
<div class="line"><span class="lineno">   59</span>        ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">num_banks_init</a>] = bank_ctx;</div>
<div class="line"><span class="lineno">   60</span>    }</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   63</span>}</div>
<div class="ttc" id="abank_8c_html_a6aaad6dc76ed23efacb455438be5c27a"><div class="ttname"><a href="bank_8c.html#a6aaad6dc76ed23efacb455438be5c27a">pcilib_free_register_banks</a></div><div class="ttdeci">void pcilib_free_register_banks(pcilib_t *ctx, pcilib_register_bank_t start)</div><div class="ttdoc">Destroys contexts of register banks.</div><div class="ttdef"><b>Definition:</b> bank.c:65</div></div>
<div class="ttc" id="abar_8c_html_ab8719d195c10a67241594fce48c5a70e"><div class="ttname"><a href="bar_8c.html#ab8719d195c10a67241594fce48c5a70e">pcilib_map_register_space</a></div><div class="ttdeci">int pcilib_map_register_space(pcilib_t *ctx)</div><div class="ttdef"><b>Definition:</b> bar.c:167</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c">PCILIB_ERROR_FAILED</a></div><div class="ttdeci">@ PCILIB_ERROR_FAILED</div><div class="ttdef"><b>Definition:</b> error.h:22</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60ca9a217d79d35fe9382b46f9f536a6622f"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca9a217d79d35fe9382b46f9f536a6622f">PCILIB_ERROR_INVALID_BANK</a></div><div class="ttdeci">@ PCILIB_ERROR_INVALID_BANK</div><div class="ttdef"><b>Definition:</b> error.h:17</div></div>
<div class="ttc" id="astructpcilib__register__bank__context__s_html"><div class="ttname"><a href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_s</a></div><div class="ttdef"><b>Definition:</b> bank.h:107</div></div>
<div class="ttc" id="astructpcilib__register__bank__context__s_html_a6f1d04a3c26765e6108ee440d66cf2ac"><div class="ttname"><a href="structpcilib__register__bank__context__s.html#a6f1d04a3c26765e6108ee440d66cf2ac">pcilib_register_bank_context_s::bank</a></div><div class="ttdeci">const pcilib_register_bank_description_t * bank</div><div class="ttdoc">Corresponding bank description.</div><div class="ttdef"><b>Definition:</b> bank.h:108</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html_a953199333b16e01653c78d7889d5bca5"><div class="ttname"><a href="structpcilib__register__bank__description__t.html#a953199333b16e01653c78d7889d5bca5">pcilib_register_bank_description_t::protocol</a></div><div class="ttdeci">pcilib_register_protocol_addr_t protocol</div><div class="ttdoc">Defines a protocol to access registers.</div><div class="ttdef"><b>Definition:</b> bank.h:73</div></div>
<div class="ttc" id="astructpcilib__register__protocol__api__description__t_html_ab0370ca06ee0b00d42b17e5341d57aa3"><div class="ttname"><a href="structpcilib__register__protocol__api__description__t.html#ab0370ca06ee0b00d42b17e5341d57aa3">pcilib_register_protocol_api_description_t::init</a></div><div class="ttdeci">pcilib_register_bank_context_t *(* init)(pcilib_t *ctx, pcilib_register_bank_t bank, const char *model, const void *args)</div><div class="ttdoc">Optional API call to initialize bank context.</div><div class="ttdef"><b>Definition:</b> bank.h:54</div></div>
<div class="ttc" id="astructpcilib__register__protocol__description__t_html_adef5c13b2d55e9ff2b0f62367fbba83d"><div class="ttname"><a href="structpcilib__register__protocol__description__t.html#adef5c13b2d55e9ff2b0f62367fbba83d">pcilib_register_protocol_description_t::model</a></div><div class="ttdeci">const char * model</div><div class="ttdoc">If NULL, the actually used model is used instead.</div><div class="ttdef"><b>Definition:</b> bank.h:64</div></div>
<div class="ttc" id="astructpcilib__register__protocol__description__t_html_aff5507074c593dfd40316c906453041e"><div class="ttname"><a href="structpcilib__register__protocol__description__t.html#aff5507074c593dfd40316c906453041e">pcilib_register_protocol_description_t::args</a></div><div class="ttdeci">const void * args</div><div class="ttdoc">Custom protocol-specific arguments.</div><div class="ttdef"><b>Definition:</b> bank.h:65</div></div>
<div class="ttc" id="astructpcilib__s_html_a124451df7bcbe85a2d9b7e8cb19814f9"><div class="ttname"><a href="structpcilib__s.html#a124451df7bcbe85a2d9b7e8cb19814f9">pcilib_s::model</a></div><div class="ttdeci">char * model</div><div class="ttdoc">Requested model.</div><div class="ttdef"><b>Definition:</b> pci.h:71</div></div>
<div class="ttc" id="astructpcilib__s_html_a85dfd00a79f8cab8ff1413db17851356"><div class="ttname"><a href="structpcilib__s.html#a85dfd00a79f8cab8ff1413db17851356">pcilib_s::xml</a></div><div class="ttdeci">struct pcilib_xml_s xml</div><div class="ttdoc">XML context.</div><div class="ttdef"><b>Definition:</b> pci.h:105</div></div>
<div class="ttc" id="astructpcilib__xml__s_html_a05d4d978d68a1b29109f6d1fa6242373"><div class="ttname"><a href="structpcilib__xml__s.html#a05d4d978d68a1b29109f6d1fa6242373">pcilib_xml_s::bank_nodes</a></div><div class="ttdeci">xmlNodePtr bank_nodes[PCILIB_MAX_REGISTER_BANKS]</div><div class="ttdoc">pointer to xml nodes of banks in the xml file</div><div class="ttdef"><b>Definition:</b> xml.h:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">pcilib_register_bank_description_t::addr</a>, <a class="el" href="structpcilib__register__protocol__description__t.html#a12df5c27f8eb6b251e0d87407da4c5db">pcilib_register_protocol_description_t::api</a>, <a class="el" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">pcilib_register_bank_context_s::api</a>, <a class="el" href="structpcilib__register__protocol__description__t.html#aff5507074c593dfd40316c906453041e">pcilib_register_protocol_description_t::args</a>, <a class="el" href="structpcilib__register__bank__context__s.html#a6f1d04a3c26765e6108ee440d66cf2ac">pcilib_register_bank_context_s::bank</a>, <a class="el" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">pcilib_s::bank_ctx</a>, <a class="el" href="structpcilib__xml__s.html#a05d4d978d68a1b29109f6d1fa6242373">pcilib_xml_s::bank_nodes</a>, <a class="el" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a>, <a class="el" href="structpcilib__register__protocol__api__description__t.html#ab0370ca06ee0b00d42b17e5341d57aa3">pcilib_register_protocol_api_description_t::init</a>, <a class="el" href="structpcilib__register__protocol__description__t.html#adef5c13b2d55e9ff2b0f62367fbba83d">pcilib_register_protocol_description_t::model</a>, <a class="el" href="structpcilib__s.html#a124451df7bcbe85a2d9b7e8cb19814f9">pcilib_s::model</a>, <a class="el" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">pcilib_register_bank_description_t::name</a>, <a class="el" href="structpcilib__s.html#ad78675d0315a858f03e16cd9d50df678">pcilib_s::num_banks</a>, <a class="el" href="structpcilib__s.html#a245fcc8f7fc634335bae0bb1001977e2">pcilib_s::num_banks_init</a>, <a class="el" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c">PCILIB_ERROR_FAILED</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca9a217d79d35fe9382b46f9f536a6622f">PCILIB_ERROR_INVALID_BANK</a>, <a class="el" href="bank_8c.html#abfa7cb95fe1f0d5523e2aa324a903d58">pcilib_find_register_protocol_by_addr()</a>, <a class="el" href="bank_8c.html#a6aaad6dc76ed23efacb455438be5c27a">pcilib_free_register_banks()</a>, <a class="el" href="bar_8c.html#ab8719d195c10a67241594fce48c5a70e">pcilib_map_register_space()</a>, <a class="el" href="bank_8h.html#a3319fcb1457aef5bc7123b420f6af6eb">PCILIB_REGISTER_PROTOCOL_INVALID</a>, <a class="el" href="structpcilib__register__bank__description__t.html#a953199333b16e01653c78d7889d5bca5">pcilib_register_bank_description_t::protocol</a>, <a class="el" href="structpcilib__s.html#ad167ccf9fea54556af78d95e1813f685">pcilib_s::protocols</a>, <a class="el" href="structpcilib__register__bank__context__s.html#a64fc3ef4ae6f1830e4befff8a4f703a4">pcilib_register_bank_context_s::xml</a>, and <a class="el" href="structpcilib__s.html#a85dfd00a79f8cab8ff1413db17851356">pcilib_s::xml</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#a1222fd326a61501597298c3e7e18ae5c">pcilib_add_register_banks()</a>, <a class="el" href="dma_8c.html#a447eef48e9a6e4b8e2f61d6ce746c466">pcilib_init_dma()</a>, and <a class="el" href="group__public__api.html#gaa6d33dcd1de77fa87c66276653c164a0">pcilib_open()</a>.</p>

</div>
</div>
<a id="ad42f7dd537a62b145d452df97216ac29" name="ad42f7dd537a62b145d452df97216ac29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad42f7dd537a62b145d452df97216ac29">&#9670;&#160;</a></span>pcilib_resolve_bank_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t pcilib_resolve_bank_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves the address of the specified register bank. </p>
<p >The address of the register0 in the bank is returned.</p>
<p >All address types (virtual address in process address space, physical address, or bus address) can be resolved. The caller has also to specify the requested access mode (read, write, read/write) and the error will be returned if the requested access type is not possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- specifies the type of required address (virtual, physical, or bus) and the required access (ro/wo/rw) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bank</td><td>- the name of register bank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- the resolved address or PCILIB_ADDRESS_INVALID on error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  284</span>                                                                                                                {</div>
<div class="line"><span class="lineno">  285</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> bank_id = <a class="code hl_function" href="bank_8c.html#a25360529598bbfc4f64d8ab3af4f49b7">pcilib_find_register_bank</a>(ctx, bank);</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">if</span> (bank_id == <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>) {</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">if</span> (bank) <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;Invalid register bank is specified (%s)&quot;</span>, bank);</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">else</span> <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;Register bank should be specified&quot;</span>);</div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>;</div>
<div class="line"><span class="lineno">  290</span>    }</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bank_8c.html#a54b26fc389772f0364d6b94ef74e6f11">pcilib_resolve_bank_address_by_id</a>(ctx, flags, bank_id);</div>
<div class="line"><span class="lineno">  293</span>}</div>
<div class="ttc" id="abank_8c_html_a25360529598bbfc4f64d8ab3af4f49b7"><div class="ttname"><a href="bank_8c.html#a25360529598bbfc4f64d8ab3af4f49b7">pcilib_find_register_bank</a></div><div class="ttdeci">pcilib_register_bank_t pcilib_find_register_bank(pcilib_t *ctx, const char *bank)</div><div class="ttdoc">Find the register bank id (offset in banks array) corresponding to the specified bank name or address...</div><div class="ttdef"><b>Definition:</b> bank.c:194</div></div>
<div class="ttc" id="abank_8c_html_a54b26fc389772f0364d6b94ef74e6f11"><div class="ttname"><a href="bank_8c.html#a54b26fc389772f0364d6b94ef74e6f11">pcilib_resolve_bank_address_by_id</a></div><div class="ttdeci">uintptr_t pcilib_resolve_bank_address_by_id(pcilib_t *ctx, pcilib_address_resolution_flags_t flags, pcilib_register_bank_t bank)</div><div class="ttdoc">Resolves the address of the specified register bank.</div><div class="ttdef"><b>Definition:</b> bank.c:275</div></div>
<div class="ttc" id="apcilib_8h_html_a67500e8fda5a8cd2d531042d8ee2d9e5"><div class="ttname"><a href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a></div><div class="ttdeci">#define PCILIB_ADDRESS_INVALID</div><div class="ttdef"><b>Definition:</b> pcilib.h:192</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>, <a class="el" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>, <a class="el" href="bank_8c.html#a25360529598bbfc4f64d8ab3af4f49b7">pcilib_find_register_bank()</a>, <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>, and <a class="el" href="bank_8c.html#a54b26fc389772f0364d6b94ef74e6f11">pcilib_resolve_bank_address_by_id()</a>.</p>

</div>
</div>
<a id="a54b26fc389772f0364d6b94ef74e6f11" name="a54b26fc389772f0364d6b94ef74e6f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b26fc389772f0364d6b94ef74e6f11">&#9670;&#160;</a></span>pcilib_resolve_bank_address_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t pcilib_resolve_bank_address_by_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a>&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves the address of the specified register bank. </p>
<p >The address of the register0 in the bank is returned.</p>
<p >All address types (virtual address in process address space, physical address, or bus address) can be resolved. The caller has also to specify the requested access mode (read, write, read/write) and the error will be returned if the requested access type is not possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- specifies the type of required address (virtual, physical, or bus) and the required access (ro/wo/rw) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bank</td><td>- the id of register bank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- the resolved address or PCILIB_ADDRESS_INVALID on error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  275</span>                                                                                                                                 {</div>
<div class="line"><span class="lineno">  276</span>    <a class="code hl_struct" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_t</a> *bctx = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[bank];</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span> (!bctx-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">api</a>-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#a153441c309f42a8b1463f1fa2cb67439">resolve</a>)</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>;</div>
<div class="line"><span class="lineno">  280</span>        </div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">return</span> bctx-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">api</a>-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#a153441c309f42a8b1463f1fa2cb67439">resolve</a>(ctx, bctx, flags, <a class="code hl_define" href="pcilib_8h.html#a97b2078a12539f424d1e2335cc60ba32">PCILIB_REGISTER_ADDRESS_INVALID</a>);</div>
<div class="line"><span class="lineno">  282</span>}</div>
<div class="ttc" id="apcilib_8h_html_a97b2078a12539f424d1e2335cc60ba32"><div class="ttname"><a href="pcilib_8h.html#a97b2078a12539f424d1e2335cc60ba32">PCILIB_REGISTER_ADDRESS_INVALID</a></div><div class="ttdeci">#define PCILIB_REGISTER_ADDRESS_INVALID</div><div class="ttdef"><b>Definition:</b> pcilib.h:191</div></div>
<div class="ttc" id="astructpcilib__register__protocol__api__description__t_html_a153441c309f42a8b1463f1fa2cb67439"><div class="ttname"><a href="structpcilib__register__protocol__api__description__t.html#a153441c309f42a8b1463f1fa2cb67439">pcilib_register_protocol_api_description_t::resolve</a></div><div class="ttdeci">uintptr_t(* resolve)(pcilib_t *pcilib, pcilib_register_bank_context_t *ctx, pcilib_address_resolution_flags_t flags, pcilib_register_addr_t addr)</div><div class="ttdoc">Resolves register virtual address (if supported)</div><div class="ttdef"><b>Definition:</b> bank.h:56</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">pcilib_register_bank_context_s::api</a>, <a class="el" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">pcilib_s::bank_ctx</a>, <a class="el" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>, <a class="el" href="pcilib_8h.html#a97b2078a12539f424d1e2335cc60ba32">PCILIB_REGISTER_ADDRESS_INVALID</a>, and <a class="el" href="structpcilib__register__protocol__api__description__t.html#a153441c309f42a8b1463f1fa2cb67439">pcilib_register_protocol_api_description_t::resolve</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#ad42f7dd537a62b145d452df97216ac29">pcilib_resolve_bank_address()</a>.</p>

</div>
</div>
<a id="af67c882d243243e3a8f5bc335c9ee348" name="af67c882d243243e3a8f5bc335c9ee348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67c882d243243e3a8f5bc335c9ee348">&#9670;&#160;</a></span>pcilib_resolve_register_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t pcilib_resolve_register_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>regname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves the address of the specified register. </p>
<p >All address types (virtual address in process address space, physical address, or bus address) can be resolved. The caller has also to specify the requested access mode (read, write, read/write) and the error will be returned if the requested access type is not possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- specifies the type of required address (virtual, physical, or bus) and the required access (ro/wo/rw) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bank</td><td>- should specify the bank name if register with the same name may occur in multiple banks, NULL otherwise </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regname</td><td>- the name of the register </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- the resolved address or PCILIB_ADDRESS_INVALID on error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  304</span>                                                                                                                                         {</div>
<div class="line"><span class="lineno">  305</span>    <a class="code hl_typedef" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a> reg = <a class="code hl_function" href="group__public__api__register.html#ga3daa74bb374dd836d0a3f33c2b5543a0">pcilib_find_register</a>(ctx, bank, regname);</div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">if</span> (reg == <a class="code hl_define" href="pcilib_8h.html#aabd8b755c92985d5db587446e76922c6">PCILIB_REGISTER_INVALID</a>) {</div>
<div class="line"><span class="lineno">  307</span>        <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;Register (%s) is not found&quot;</span>, regname);</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>;</div>
<div class="line"><span class="lineno">  309</span>    }</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bank_8c.html#a4b2319b841b3a4bd28187ddf61924c35">pcilib_resolve_register_address_by_id</a>(ctx, flags, reg);</div>
<div class="line"><span class="lineno">  312</span>}</div>
<div class="ttc" id="abank_8c_html_a4b2319b841b3a4bd28187ddf61924c35"><div class="ttname"><a href="bank_8c.html#a4b2319b841b3a4bd28187ddf61924c35">pcilib_resolve_register_address_by_id</a></div><div class="ttdeci">uintptr_t pcilib_resolve_register_address_by_id(pcilib_t *ctx, pcilib_address_resolution_flags_t flags, pcilib_register_t reg)</div><div class="ttdoc">Resolves the address of the specified register.</div><div class="ttdef"><b>Definition:</b> bank.c:295</div></div>
<div class="ttc" id="agroup__public__api__register_html_ga3daa74bb374dd836d0a3f33c2b5543a0"><div class="ttname"><a href="group__public__api__register.html#ga3daa74bb374dd836d0a3f33c2b5543a0">pcilib_find_register</a></div><div class="ttdeci">pcilib_register_t pcilib_find_register(pcilib_t *ctx, const char *bank, const char *reg)</div><div class="ttdoc">Finds register id corresponding to the specified bank and register names.</div><div class="ttdef"><b>Definition:</b> bank.c:214</div></div>
<div class="ttc" id="apcilib_8h_html_a64d66d93f7c4755e67c113b370f982d0"><div class="ttname"><a href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a></div><div class="ttdeci">uint16_t pcilib_register_t</div><div class="ttdoc">Type holding the register position within the field listing registers in the model.</div><div class="ttdef"><b>Definition:</b> pcilib.h:15</div></div>
<div class="ttc" id="apcilib_8h_html_aabd8b755c92985d5db587446e76922c6"><div class="ttname"><a href="pcilib_8h.html#aabd8b755c92985d5db587446e76922c6">PCILIB_REGISTER_INVALID</a></div><div class="ttdeci">#define PCILIB_REGISTER_INVALID</div><div class="ttdef"><b>Definition:</b> pcilib.h:190</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>, <a class="el" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>, <a class="el" href="group__public__api__register.html#ga3daa74bb374dd836d0a3f33c2b5543a0">pcilib_find_register()</a>, <a class="el" href="pcilib_8h.html#aabd8b755c92985d5db587446e76922c6">PCILIB_REGISTER_INVALID</a>, and <a class="el" href="bank_8c.html#a4b2319b841b3a4bd28187ddf61924c35">pcilib_resolve_register_address_by_id()</a>.</p>

</div>
</div>
<a id="a4b2319b841b3a4bd28187ddf61924c35" name="a4b2319b841b3a4bd28187ddf61924c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b2319b841b3a4bd28187ddf61924c35">&#9670;&#160;</a></span>pcilib_resolve_register_address_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t pcilib_resolve_register_address_by_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bank_8h.html#a671f5562abacdaac9349000ffb411465">pcilib_address_resolution_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a>&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves the address of the specified register. </p>
<p >All address types (virtual address in process address space, physical address, or bus address) can be resolved. The caller has also to specify the requested access mode (read, write, read/write) and the error will be returned if the requested access type is not possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- specifies the type of required address (virtual, physical, or bus) and the required access (ro/wo/rw) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>- the id of register </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- the resolved address or PCILIB_ADDRESS_INVALID on error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  295</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">  296</span>    <a class="code hl_struct" href="structpcilib__register__bank__context__s.html">pcilib_register_bank_context_t</a> *bctx = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">bank_ctx</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a4b24f857efec07c254d2fa2226b59fda">register_ctx</a>[reg].<a class="code hl_variable" href="structpcilib__register__context__t.html#a628f32e2b6a77a47f689683b01906baf">bank</a>];</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">if</span> (!bctx-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">api</a>-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#a153441c309f42a8b1463f1fa2cb67439">resolve</a>)</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>;</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">return</span> bctx-&gt;<a class="code hl_variable" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">api</a>-&gt;<a class="code hl_variable" href="structpcilib__register__protocol__api__description__t.html#a153441c309f42a8b1463f1fa2cb67439">resolve</a>(ctx, bctx, 0, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a9f6bc50561128b6e7f78296f23db134a">registers</a>[reg].<a class="code hl_variable" href="structpcilib__register__description__t.html#a8d99ccc2b4a64cabd12568de66311ee5">addr</a>);</div>
<div class="line"><span class="lineno">  302</span>}</div>
<div class="ttc" id="astructpcilib__register__context__t_html_a628f32e2b6a77a47f689683b01906baf"><div class="ttname"><a href="structpcilib__register__context__t.html#a628f32e2b6a77a47f689683b01906baf">pcilib_register_context_t::bank</a></div><div class="ttdeci">pcilib_register_bank_t bank</div><div class="ttdoc">Reference to bank containing the register.</div><div class="ttdef"><b>Definition:</b> register.h:49</div></div>
<div class="ttc" id="astructpcilib__register__description__t_html_a8d99ccc2b4a64cabd12568de66311ee5"><div class="ttname"><a href="structpcilib__register__description__t.html#a8d99ccc2b4a64cabd12568de66311ee5">pcilib_register_description_t::addr</a></div><div class="ttdeci">pcilib_register_addr_t addr</div><div class="ttdoc">Register address in the bank.</div><div class="ttdef"><b>Definition:</b> register.h:26</div></div>
<div class="ttc" id="astructpcilib__s_html_a4b24f857efec07c254d2fa2226b59fda"><div class="ttname"><a href="structpcilib__s.html#a4b24f857efec07c254d2fa2226b59fda">pcilib_s::register_ctx</a></div><div class="ttdeci">pcilib_register_context_t * register_ctx</div><div class="ttdoc">Contexts for registers.</div><div class="ttdef"><b>Definition:</b> pci.h:87</div></div>
<div class="ttc" id="astructpcilib__s_html_a9f6bc50561128b6e7f78296f23db134a"><div class="ttname"><a href="structpcilib__s.html#a9f6bc50561128b6e7f78296f23db134a">pcilib_s::registers</a></div><div class="ttdeci">pcilib_register_description_t * registers</div><div class="ttdoc">List of currently defined registers (from all sources)</div><div class="ttdef"><b>Definition:</b> pci.h:80</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__description__t.html#a8d99ccc2b4a64cabd12568de66311ee5">pcilib_register_description_t::addr</a>, <a class="el" href="structpcilib__register__bank__context__s.html#a13d2907397753038b7782855930ff28b">pcilib_register_bank_context_s::api</a>, <a class="el" href="structpcilib__register__context__t.html#a628f32e2b6a77a47f689683b01906baf">pcilib_register_context_t::bank</a>, <a class="el" href="structpcilib__s.html#a53d85e0f2155263085878bd1ae4c8b6d">pcilib_s::bank_ctx</a>, <a class="el" href="pcilib_8h.html#a67500e8fda5a8cd2d531042d8ee2d9e5">PCILIB_ADDRESS_INVALID</a>, <a class="el" href="structpcilib__s.html#a4b24f857efec07c254d2fa2226b59fda">pcilib_s::register_ctx</a>, <a class="el" href="structpcilib__s.html#a9f6bc50561128b6e7f78296f23db134a">pcilib_s::registers</a>, and <a class="el" href="structpcilib__register__protocol__api__description__t.html#a153441c309f42a8b1463f1fa2cb67439">pcilib_register_protocol_api_description_t::resolve</a>.</p>

<p class="reference">Referenced by <a class="el" href="bank_8c.html#af67c882d243243e3a8f5bc335c9ee348">pcilib_resolve_register_address()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 18 2024 22:02:47 for pcilib by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
