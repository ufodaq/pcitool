<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pcilib: pagecpy.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pcilib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b5c8f32f3013e7b96dc99509907414c.html">pcilib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pagecpy.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="pagecpy_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8ef302ce8ac57e78f6dc788bf35c21a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagecpy_8h.html#a8ef302ce8ac57e78f6dc788bf35c21a3">pcilib_pagecpy</a> (void *dst, const void *src, size_t size)</td></tr>
<tr class="memdesc:a8ef302ce8ac57e78f6dc788bf35c21a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be used to move large blocks of non-cached memory between aligned memory locations.  <a href="pagecpy_8h.html#a8ef302ce8ac57e78f6dc788bf35c21a3">More...</a><br /></td></tr>
<tr class="separator:a8ef302ce8ac57e78f6dc788bf35c21a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8ef302ce8ac57e78f6dc788bf35c21a3" name="a8ef302ce8ac57e78f6dc788bf35c21a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef302ce8ac57e78f6dc788bf35c21a3">&#9670;&#160;</a></span>pcilib_pagecpy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcilib_pagecpy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be used to move large blocks of non-cached memory between aligned memory locations. </p>
<p >The function will determine the CPU model and alginment and call appropriate implementation. If nothing suitable found, standard memcpy will be used. It is OK to call on small or unligned data, the standard memcpy will be executed in this case. The memory regions should not intersect. Only AVX implementation so far. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>- destination memory region </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>- source memory region </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>- size of memory region in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- <code>dst</code> or NULL on error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  147</span>                                                             {</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordtype">int</span> gen = <a class="code hl_function" href="cpu_8c.html#a4b831d1623083bae186eca63e369027f">pcilib_get_cpu_gen</a>();</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> ((gen &gt; 3)&amp;&amp;((size%4096)==0)&amp;&amp;(((uintptr_t)dst%32)==0)&amp;&amp;(((uintptr_t)src%32)==0)) {</div>
<div class="line"><span class="lineno">  150</span>        <a class="code hl_function" href="pagecpy_8c.html#a5cf01a58160461a141d8aa002804281a">pcilib_memcpy4k_avx</a>(dst, src, size);</div>
<div class="line"><span class="lineno">  151</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  152</span>        memcpy(dst, src, size);</div>
<div class="line"><span class="lineno">  153</span>}</div>
<div class="ttc" id="acpu_8c_html_a4b831d1623083bae186eca63e369027f"><div class="ttname"><a href="cpu_8c.html#a4b831d1623083bae186eca63e369027f">pcilib_get_cpu_gen</a></div><div class="ttdeci">int pcilib_get_cpu_gen()</div><div class="ttdoc">Returns the generation of Intel Core architecture Processors up to Intel Core gen4 are recognized.</div><div class="ttdef"><b>Definition:</b> cpu.c:74</div></div>
<div class="ttc" id="apagecpy_8c_html_a5cf01a58160461a141d8aa002804281a"><div class="ttname"><a href="pagecpy_8c.html#a5cf01a58160461a141d8aa002804281a">pcilib_memcpy4k_avx</a></div><div class="ttdeci">void pcilib_memcpy4k_avx(void *dst, const void *src, size_t size)</div><div class="ttdef"><b>Definition:</b> pagecpy.c:90</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cpu_8c.html#a4b831d1623083bae186eca63e369027f">pcilib_get_cpu_gen()</a>, and <a class="el" href="pagecpy_8c.html#a5cf01a58160461a141d8aa002804281a">pcilib_memcpy4k_avx()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 18 2024 22:02:48 for pcilib by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
