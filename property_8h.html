<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pcilib: property.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pcilib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b5c8f32f3013e7b96dc99509907414c.html">pcilib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">property.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="property_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:affb1453cac52761dde03f6c56f210f28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="property_8h.html#affb1453cac52761dde03f6c56f210f28">pcilib_add_properties_from_registers</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, size_t n, const <a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> *banks, const <a class="el" href="structpcilib__register__description__t.html">pcilib_register_description_t</a> *registers)</td></tr>
<tr class="memdesc:affb1453cac52761dde03f6c56f210f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an internal function used to add property views for all model registers.  <a href="property_8h.html#affb1453cac52761dde03f6c56f210f28">More...</a><br /></td></tr>
<tr class="separator:affb1453cac52761dde03f6c56f210f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c31cee58963d2e71a3d2a98ae0b50a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="property_8h.html#a87c31cee58963d2e71a3d2a98ae0b50a">pcilib_add_registers_from_properties</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, size_t n, <a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> *const *view_ctx, <a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a> *const *view)</td></tr>
<tr class="memdesc:a87c31cee58963d2e71a3d2a98ae0b50a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an internal function used to add registers providing alternative access to values of the properties.  <a href="property_8h.html#a87c31cee58963d2e71a3d2a98ae0b50a">More...</a><br /></td></tr>
<tr class="separator:a87c31cee58963d2e71a3d2a98ae0b50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="affb1453cac52761dde03f6c56f210f28" name="affb1453cac52761dde03f6c56f210f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affb1453cac52761dde03f6c56f210f28">&#9670;&#160;</a></span>pcilib_add_properties_from_registers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_add_properties_from_registers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> *&#160;</td>
          <td class="paramname"><em>banks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpcilib__register__description__t.html">pcilib_register_description_t</a> *&#160;</td>
          <td class="paramname"><em>registers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an internal function used to add property views for all model registers. </p>
<p >It is automatically called from pcilib_add_registers and should not be called by the users. On error no new views are initalized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>- number of views to initialize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">banks</td><td>- array containing a bank id for each of the considered registers </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">registers</td><td>- register descriptions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   61</span>                                                                                                                                                       {</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_typedef" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a> i;</div>
<div class="line"><span class="lineno">   65</span>    <a class="code hl_typedef" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> cur_view = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a>;</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (!n) </div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca1d5267b325c591675a462cefbb1d0f7f">PCILIB_ERROR_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordtype">char</span> *view_name;</div>
<div class="line"><span class="lineno">   73</span>        <a class="code hl_enumeration" href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195c">pcilib_access_mode_t</a> mode = 0;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>        pcilib_register_view_description_t v = {{0}};</div>
<div class="line"><span class="lineno">   76</span>        <a class="code hl_struct" href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a> *b = &amp;ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[banks[i]];</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">if</span> (registers[i].type == <a class="code hl_enumvalue" href="register_8h.html#aa0464147a2747278f50b0de1764b17a4a5940cbb4559e3a945d8502202ef8690c">PCILIB_REGISTER_PROPERTY</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>        view_name = malloc(strlen(registers[i].name) + strlen(b-&gt;<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">name</a>) + 13);</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">if</span> (!view_name) {</div>
<div class="line"><span class="lineno">   82</span>            <a class="code hl_function" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a>(ctx, cur_view);</div>
<div class="line"><span class="lineno">   83</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a>;</div>
<div class="line"><span class="lineno">   84</span>        }</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>        sprintf(view_name, <span class="stringliteral">&quot;/registers/%s/%s&quot;</span>, b-&gt;<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">name</a>, registers[i].name);</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">if</span> ((registers[i].views)&amp;&amp;(registers[i].views[0].view)) {</div>
<div class="line"><span class="lineno">   89</span>            <a class="code hl_typedef" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> view = <a class="code hl_function" href="view_8c.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name</a>(ctx, registers[i].views[0].view);</div>
<div class="line"><span class="lineno">   90</span>            <span class="keywordflow">if</span> (view == <a class="code hl_define" href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a>) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c">PCILIB_ERROR_NOTFOUND</a>;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>            memcpy(&amp;v, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[view], <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>));</div>
<div class="line"><span class="lineno">   93</span>            v.view = registers[i].<a class="code hl_variable" href="structpcilib__register__description__t.html#a2d8981e8c05ec0d5ce0ed5f823bdf9a4">views</a>[0].<a class="code hl_variable" href="structpcilib__view__reference__t.html#a25208930bec259f4bc3f2e2c5bfcaf07">name</a>;</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>            <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[view]-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#a8f385c6593798876506f13b9fa589a71">read_from_reg</a>) mode |= <a class="code hl_enumvalue" href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195cab74aef0537a09893f01e1d30a1c0b394">PCILIB_ACCESS_R</a>;</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[view]-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#aa8ec302730da6fa2e03e2045f66d2ff2">write_to_reg</a>) mode |= <a class="code hl_enumvalue" href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195cad7f0257b310e53a799126f97897323a2">PCILIB_ACCESS_W</a>;</div>
<div class="line"><span class="lineno">   97</span>            mode &amp;= ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[view]-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a1169d568ce80a544ecaa0a2f1484a40a">mode</a>;</div>
<div class="line"><span class="lineno">   98</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   99</span>            v.base.type = <a class="code hl_enumvalue" href="pcilib_8h.html#a71a6b37faf17f39c4169e9313af66f47ad8c5c0a396e196d4800798f058c914ff">PCILIB_TYPE_LONG</a>;</div>
<div class="line"><span class="lineno">  100</span>            mode = <a class="code hl_enumvalue" href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195caa04760fcee16a37c33bafb50a48e3691">PCILIB_ACCESS_RW</a>;</div>
<div class="line"><span class="lineno">  101</span>        }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>        v.base.api = &amp;pcilib_register_view_api;</div>
<div class="line"><span class="lineno">  104</span>        v.base.name = view_name;</div>
<div class="line"><span class="lineno">  105</span>        v.base.description = registers[i].<a class="code hl_variable" href="structpcilib__register__description__t.html#a5a812020a58e5d94809177eaada2f312">description</a>;</div>
<div class="line"><span class="lineno">  106</span>        v.base.mode = registers[i].<a class="code hl_variable" href="structpcilib__register__description__t.html#aa9ec6e3aabae7b4124ebd7913f178f0b">mode</a>&amp;mode;</div>
<div class="line"><span class="lineno">  107</span>        v.base.flags |= <a class="code hl_enumvalue" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e">PCILIB_VIEW_FLAG_PROPERTY</a>;</div>
<div class="line"><span class="lineno">  108</span>        v.reg = registers[i].<a class="code hl_variable" href="structpcilib__register__description__t.html#aff7027d4c2f6df0b8471e760843db39d">name</a>;</div>
<div class="line"><span class="lineno">  109</span>        v.bank = b-&gt;<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">name</a>;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>        err = <a class="code hl_function" href="view_8c.html#a208c01ea0b9e2f0446c391af1ebcec61">pcilib_add_views</a>(ctx, 1, (<a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>*)&amp;v);</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><span class="lineno">  113</span>            free(view_name);</div>
<div class="line"><span class="lineno">  114</span>            <a class="code hl_function" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a>(ctx, cur_view);</div>
<div class="line"><span class="lineno">  115</span>            <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  116</span>        }</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  119</span><span class="comment">        pcilib_view_context_t *view_ctx = pcilib_find_view_context_by_name(ctx, v.base.name);</span></div>
<div class="line"><span class="lineno">  120</span><span class="comment">        view_ctx-&gt;flags |= PCILIB_VIEW_FLAG_PROPERTY;</span></div>
<div class="line"><span class="lineno">  121</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  125</span>}</div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60ca1d5267b325c591675a462cefbb1d0f7f"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca1d5267b325c591675a462cefbb1d0f7f">PCILIB_ERROR_INVALID_ARGUMENT</a></div><div class="ttdeci">@ PCILIB_ERROR_INVALID_ARGUMENT</div><div class="ttdef"><b>Definition:</b> error.h:20</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a></div><div class="ttdeci">@ PCILIB_ERROR_MEMORY</div><div class="ttdef"><b>Definition:</b> error.h:14</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c">PCILIB_ERROR_NOTFOUND</a></div><div class="ttdeci">@ PCILIB_ERROR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> error.h:25</div></div>
<div class="ttc" id="apcilib_8h_html_a64d66d93f7c4755e67c113b370f982d0"><div class="ttname"><a href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a></div><div class="ttdeci">uint16_t pcilib_register_t</div><div class="ttdoc">Type holding the register position within the field listing registers in the model.</div><div class="ttdef"><b>Definition:</b> pcilib.h:15</div></div>
<div class="ttc" id="apcilib_8h_html_a71a6b37faf17f39c4169e9313af66f47ad8c5c0a396e196d4800798f058c914ff"><div class="ttname"><a href="pcilib_8h.html#a71a6b37faf17f39c4169e9313af66f47ad8c5c0a396e196d4800798f058c914ff">PCILIB_TYPE_LONG</a></div><div class="ttdeci">@ PCILIB_TYPE_LONG</div><div class="ttdef"><b>Definition:</b> pcilib.h:66</div></div>
<div class="ttc" id="apcilib_8h_html_aaecd82ed7c5a8c92b8e08c06c21b8c25"><div class="ttname"><a href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a></div><div class="ttdeci">uint16_t pcilib_view_t</div><div class="ttdoc">Type holding the register view position within view listing in the model.</div><div class="ttdef"><b>Definition:</b> pcilib.h:16</div></div>
<div class="ttc" id="apcilib_8h_html_abd48d7a4e54caa538ad13634fabf195c"><div class="ttname"><a href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195c">pcilib_access_mode_t</a></div><div class="ttdeci">pcilib_access_mode_t</div><div class="ttdef"><b>Definition:</b> pcilib.h:43</div></div>
<div class="ttc" id="apcilib_8h_html_abd48d7a4e54caa538ad13634fabf195caa04760fcee16a37c33bafb50a48e3691"><div class="ttname"><a href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195caa04760fcee16a37c33bafb50a48e3691">PCILIB_ACCESS_RW</a></div><div class="ttdeci">@ PCILIB_ACCESS_RW</div><div class="ttdef"><b>Definition:</b> pcilib.h:46</div></div>
<div class="ttc" id="apcilib_8h_html_abd48d7a4e54caa538ad13634fabf195cab74aef0537a09893f01e1d30a1c0b394"><div class="ttname"><a href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195cab74aef0537a09893f01e1d30a1c0b394">PCILIB_ACCESS_R</a></div><div class="ttdeci">@ PCILIB_ACCESS_R</div><div class="ttdoc">getting property is allowed</div><div class="ttdef"><b>Definition:</b> pcilib.h:44</div></div>
<div class="ttc" id="apcilib_8h_html_abd48d7a4e54caa538ad13634fabf195cad7f0257b310e53a799126f97897323a2"><div class="ttname"><a href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195cad7f0257b310e53a799126f97897323a2">PCILIB_ACCESS_W</a></div><div class="ttdeci">@ PCILIB_ACCESS_W</div><div class="ttdoc">setting property is allowed</div><div class="ttdef"><b>Definition:</b> pcilib.h:45</div></div>
<div class="ttc" id="aregister_8h_html_aa0464147a2747278f50b0de1764b17a4a5940cbb4559e3a945d8502202ef8690c"><div class="ttname"><a href="register_8h.html#aa0464147a2747278f50b0de1764b17a4a5940cbb4559e3a945d8502202ef8690c">PCILIB_REGISTER_PROPERTY</a></div><div class="ttdeci">@ PCILIB_REGISTER_PROPERTY</div><div class="ttdoc">A special register bound to a property and gettings/setting it value through it.</div><div class="ttdef"><b>Definition:</b> register.h:17</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html"><div class="ttname"><a href="structpcilib__register__bank__description__t.html">pcilib_register_bank_description_t</a></div><div class="ttdef"><b>Definition:</b> bank.h:70</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html_a298ffc16d83bc9af017a9262f76eec1b"><div class="ttname"><a href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">pcilib_register_bank_description_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">short bank name</div><div class="ttdef"><b>Definition:</b> bank.h:86</div></div>
<div class="ttc" id="astructpcilib__register__description__t_html_a2d8981e8c05ec0d5ce0ed5f823bdf9a4"><div class="ttname"><a href="structpcilib__register__description__t.html#a2d8981e8c05ec0d5ce0ed5f823bdf9a4">pcilib_register_description_t::views</a></div><div class="ttdeci">pcilib_view_reference_t * views</div><div class="ttdoc">List of supported views for this register.</div><div class="ttdef"><b>Definition:</b> register.h:43</div></div>
<div class="ttc" id="astructpcilib__register__description__t_html_a5a812020a58e5d94809177eaada2f312"><div class="ttname"><a href="structpcilib__register__description__t.html#a5a812020a58e5d94809177eaada2f312">pcilib_register_description_t::description</a></div><div class="ttdeci">const char * description</div><div class="ttdoc">Brief description of the register.</div><div class="ttdef"><b>Definition:</b> register.h:41</div></div>
<div class="ttc" id="astructpcilib__register__description__t_html_aa9ec6e3aabae7b4124ebd7913f178f0b"><div class="ttname"><a href="structpcilib__register__description__t.html#aa9ec6e3aabae7b4124ebd7913f178f0b">pcilib_register_description_t::mode</a></div><div class="ttdeci">pcilib_register_mode_t mode</div><div class="ttdoc">Register access (ro/wo/rw) and how writting to register works (if value just set as specified or,...</div><div class="ttdef"><b>Definition:</b> register.h:35</div></div>
<div class="ttc" id="astructpcilib__register__description__t_html_aff7027d4c2f6df0b8471e760843db39d"><div class="ttname"><a href="structpcilib__register__description__t.html#aff7027d4c2f6df0b8471e760843db39d">pcilib_register_description_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">The access name of the register.</div><div class="ttdef"><b>Definition:</b> register.h:40</div></div>
<div class="ttc" id="astructpcilib__s_html_a7f2f82869f7b6acd3a0cfba9dc4a00ed"><div class="ttname"><a href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a></div><div class="ttdeci">pcilib_register_bank_description_t banks[PCILIB_MAX_REGISTER_BANKS+1]</div><div class="ttdoc">List of currently defined register banks (from all sources)</div><div class="ttdef"><b>Definition:</b> pci.h:81</div></div>
<div class="ttc" id="astructpcilib__s_html_aa581ed1b9217f9c50c33b6d55559f019"><div class="ttname"><a href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">pcilib_s::num_views</a></div><div class="ttdeci">size_t num_views</div><div class="ttdef"><b>Definition:</b> pci.h:92</div></div>
<div class="ttc" id="astructpcilib__s_html_af0bbd1334a8cb708cfa331d833be25e3"><div class="ttname"><a href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">pcilib_s::views</a></div><div class="ttdeci">pcilib_view_description_t ** views</div><div class="ttdoc">list of currently defined views</div><div class="ttdef"><b>Definition:</b> pci.h:94</div></div>
<div class="ttc" id="astructpcilib__view__api__description__t_html_a8f385c6593798876506f13b9fa589a71"><div class="ttname"><a href="structpcilib__view__api__description__t.html#a8f385c6593798876506f13b9fa589a71">pcilib_view_api_description_t::read_from_reg</a></div><div class="ttdeci">int(* read_from_reg)(pcilib_t *ctx, pcilib_view_context_t *view, pcilib_register_value_t regval, pcilib_value_t *val)</div><div class="ttdoc">Function which computes view value based on the passed the register value (view-based properties shou...</div><div class="ttdef"><b>Definition:</b> view.h:25</div></div>
<div class="ttc" id="astructpcilib__view__api__description__t_html_aa8ec302730da6fa2e03e2045f66d2ff2"><div class="ttname"><a href="structpcilib__view__api__description__t.html#aa8ec302730da6fa2e03e2045f66d2ff2">pcilib_view_api_description_t::write_to_reg</a></div><div class="ttdeci">int(* write_to_reg)(pcilib_t *ctx, pcilib_view_context_t *view, pcilib_register_value_t *regval, const pcilib_value_t *val)</div><div class="ttdoc">Function which computes register value based on the passed value (view-based properties are not requi...</div><div class="ttdef"><b>Definition:</b> view.h:26</div></div>
<div class="ttc" id="astructpcilib__view__description__s_html"><div class="ttname"><a href="structpcilib__view__description__s.html">pcilib_view_description_s</a></div><div class="ttdef"><b>Definition:</b> view.h:29</div></div>
<div class="ttc" id="astructpcilib__view__description__s_html_a1169d568ce80a544ecaa0a2f1484a40a"><div class="ttname"><a href="structpcilib__view__description__s.html#a1169d568ce80a544ecaa0a2f1484a40a">pcilib_view_description_s::mode</a></div><div class="ttdeci">pcilib_access_mode_t mode</div><div class="ttdoc">Specifies if the view is read/write-only.</div><div class="ttdef"><b>Definition:</b> view.h:33</div></div>
<div class="ttc" id="astructpcilib__view__description__s_html_a9f721b229fa0c67c0e7959d721d74501"><div class="ttname"><a href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">pcilib_view_description_s::api</a></div><div class="ttdeci">const pcilib_view_api_description_t * api</div><div class="ttdef"><b>Definition:</b> view.h:30</div></div>
<div class="ttc" id="astructpcilib__view__reference__t_html_a25208930bec259f4bc3f2e2c5bfcaf07"><div class="ttname"><a href="structpcilib__view__reference__t.html#a25208930bec259f4bc3f2e2c5bfcaf07">pcilib_view_reference_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> register.h:21</div></div>
<div class="ttc" id="aview_8c_html_a208c01ea0b9e2f0446c391af1ebcec61"><div class="ttname"><a href="view_8c.html#a208c01ea0b9e2f0446c391af1ebcec61">pcilib_add_views</a></div><div class="ttdeci">int pcilib_add_views(pcilib_t *ctx, size_t n, const pcilib_view_description_t *desc)</div><div class="ttdoc">Use this function to add new view definitions into the model.</div><div class="ttdef"><b>Definition:</b> view.c:112</div></div>
<div class="ttc" id="aview_8c_html_a2fba2a8319859f6c23ecda7bef263936"><div class="ttname"><a href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a></div><div class="ttdeci">void pcilib_clean_views(pcilib_t *ctx, pcilib_view_t start)</div><div class="ttdoc">Destroys data associated with views.</div><div class="ttdef"><b>Definition:</b> view.c:117</div></div>
<div class="ttc" id="aview_8c_html_a9f5d32e01792a44466f3f66eff927585"><div class="ttname"><a href="view_8c.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name</a></div><div class="ttdeci">pcilib_view_t pcilib_find_view_by_name(pcilib_t *ctx, const char *name)</div><div class="ttdef"><b>Definition:</b> view.c:152</div></div>
<div class="ttc" id="aview_8h_html_a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e"><div class="ttname"><a href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e">PCILIB_VIEW_FLAG_PROPERTY</a></div><div class="ttdeci">@ PCILIB_VIEW_FLAG_PROPERTY</div><div class="ttdoc">Indicates that view does not depend on a value and is independent property.</div><div class="ttdef"><b>Definition:</b> view.h:15</div></div>
<div class="ttc" id="aview_8h_html_a324d573c5ce63d60ff3eb7ca63739280"><div class="ttname"><a href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a></div><div class="ttdeci">#define PCILIB_VIEW_INVALID</div><div class="ttdef"><b>Definition:</b> view.h:9</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">pcilib_view_description_s::api</a>, <a class="el" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a>, <a class="el" href="structpcilib__register__description__t.html#a5a812020a58e5d94809177eaada2f312">pcilib_register_description_t::description</a>, <a class="el" href="structpcilib__register__description__t.html#aa9ec6e3aabae7b4124ebd7913f178f0b">pcilib_register_description_t::mode</a>, <a class="el" href="structpcilib__view__description__s.html#a1169d568ce80a544ecaa0a2f1484a40a">pcilib_view_description_s::mode</a>, <a class="el" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">pcilib_register_bank_description_t::name</a>, <a class="el" href="structpcilib__view__reference__t.html#a25208930bec259f4bc3f2e2c5bfcaf07">pcilib_view_reference_t::name</a>, <a class="el" href="structpcilib__register__description__t.html#aff7027d4c2f6df0b8471e760843db39d">pcilib_register_description_t::name</a>, <a class="el" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">pcilib_s::num_views</a>, <a class="el" href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195cab74aef0537a09893f01e1d30a1c0b394">PCILIB_ACCESS_R</a>, <a class="el" href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195caa04760fcee16a37c33bafb50a48e3691">PCILIB_ACCESS_RW</a>, <a class="el" href="pcilib_8h.html#abd48d7a4e54caa538ad13634fabf195cad7f0257b310e53a799126f97897323a2">PCILIB_ACCESS_W</a>, <a class="el" href="view_8c.html#a208c01ea0b9e2f0446c391af1ebcec61">pcilib_add_views()</a>, <a class="el" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views()</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca1d5267b325c591675a462cefbb1d0f7f">PCILIB_ERROR_INVALID_ARGUMENT</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60cad21a896d5d5aaee0682c410b9bed283c">PCILIB_ERROR_NOTFOUND</a>, <a class="el" href="view_8c.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name()</a>, <a class="el" href="register_8h.html#aa0464147a2747278f50b0de1764b17a4a5940cbb4559e3a945d8502202ef8690c">PCILIB_REGISTER_PROPERTY</a>, <a class="el" href="pcilib_8h.html#a71a6b37faf17f39c4169e9313af66f47ad8c5c0a396e196d4800798f058c914ff">PCILIB_TYPE_LONG</a>, <a class="el" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e">PCILIB_VIEW_FLAG_PROPERTY</a>, <a class="el" href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a>, <a class="el" href="structpcilib__view__api__description__t.html#a8f385c6593798876506f13b9fa589a71">pcilib_view_api_description_t::read_from_reg</a>, <a class="el" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">pcilib_s::views</a>, <a class="el" href="structpcilib__register__description__t.html#a2d8981e8c05ec0d5ce0ed5f823bdf9a4">pcilib_register_description_t::views</a>, and <a class="el" href="structpcilib__view__api__description__t.html#aa8ec302730da6fa2e03e2045f66d2ff2">pcilib_view_api_description_t::write_to_reg</a>.</p>

<p class="reference">Referenced by <a class="el" href="register_8c.html#aec9a0672eddac26362760345cea77508">pcilib_add_registers()</a>.</p>

</div>
</div>
<a id="a87c31cee58963d2e71a3d2a98ae0b50a" name="a87c31cee58963d2e71a3d2a98ae0b50a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c31cee58963d2e71a3d2a98ae0b50a">&#9670;&#160;</a></span>pcilib_add_registers_from_properties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_add_registers_from_properties </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> *const *&#160;</td>
          <td class="paramname"><em>view_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a> *const *&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an internal function used to add registers providing alternative access to values of the properties. </p>
<p >To reduce number of required interfaces, some of the property views may be also mapped into the model as registers. The client application, then, is able to use either register or property APIs to access them. This is an internal function which processes the supplied views, finds which views have to be mapped in the register space, and finally pushes corresponding registers into the model. The function is automatically called from pcilib_add_views and should never be called by the user. On error no new registers are added. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>- number of views to analyze. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">view_ctx</td><td>- views to analyze </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">view</td><td>- array of pointers to corresponding view descriptions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   19</span>                                                                                                                                               {</div>
<div class="line"><span class="lineno">   20</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">   21</span>    </div>
<div class="line"><span class="lineno">   22</span>    <a class="code hl_typedef" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> i;</div>
<div class="line"><span class="lineno">   23</span>    <a class="code hl_typedef" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a> pos = 0;</div>
<div class="line"><span class="lineno">   24</span>    <a class="code hl_struct" href="structpcilib__register__description__t.html">pcilib_register_description_t</a> regs[n];</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordtype">int</span> access;</div>
<div class="line"><span class="lineno">   27</span>    <a class="code hl_typedef" href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a> bank;</div>
<div class="line"><span class="lineno">   28</span> </div>
<div class="line"><span class="lineno">   29</span>    bank = <a class="code hl_function" href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr</a>(ctx, <a class="code hl_variable" href="export_8c.html#abebbb89db16140394f8ea892e2c71115">pcilib_property_register_bank</a>.<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">addr</a>);</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span> (bank == <a class="code hl_define" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>) {</div>
<div class="line"><span class="lineno">   31</span>        err = <a class="code hl_function" href="bank_8c.html#a1222fd326a61501597298c3e7e18ae5c">pcilib_add_register_banks</a>(ctx, 0, 1, &amp;<a class="code hl_variable" href="export_8c.html#abebbb89db16140394f8ea892e2c71115">pcilib_property_register_bank</a>, &amp;bank);</div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><span class="lineno">   33</span>            <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;Error (%i) adding register bank (%s)&quot;</span>, err, <a class="code hl_variable" href="export_8c.html#abebbb89db16140394f8ea892e2c71115">pcilib_property_register_bank</a>.<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">name</a>);</div>
<div class="line"><span class="lineno">   34</span>            <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">   35</span>        }</div>
<div class="line"><span class="lineno">   36</span>    }</div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>    access = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">banks</a>[bank].<a class="code hl_variable" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">access</a> / 8;</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">if</span> ((v[i]-&gt;flags&amp;<a class="code hl_enumvalue" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4">PCILIB_VIEW_FLAG_REGISTER</a>) == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>        regs[pos++] = (<a class="code hl_struct" href="structpcilib__register__description__t.html">pcilib_register_description_t</a>){</div>
<div class="line"><span class="lineno">   44</span>            .<a class="code hl_variable" href="structpcilib__register__description__t.html#a8d99ccc2b4a64cabd12568de66311ee5">addr</a> = view_ctx[i]-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">view</a> * access,</div>
<div class="line"><span class="lineno">   45</span>            .bits = 8 * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="pcilib_8h.html#acb54b82c4cfdb69491465e3c94dadf75">pcilib_register_value_t</a>),</div>
<div class="line"><span class="lineno">   46</span>            .mode = v[i]-&gt;mode,</div>
<div class="line"><span class="lineno">   47</span>            .type = <a class="code hl_enumvalue" href="register_8h.html#aa0464147a2747278f50b0de1764b17a4a5940cbb4559e3a945d8502202ef8690c">PCILIB_REGISTER_PROPERTY</a>,</div>
<div class="line"><span class="lineno">   48</span>            .bank = <a class="code hl_define" href="bank_8h.html#a992364f02e543647e7c2d71e36d8dc7b">PCILIB_REGISTER_BANK_PROPERTY</a>,</div>
<div class="line"><span class="lineno">   49</span>            .name = (v[i]-&gt;regname?v[i]-&gt;regname:v[i]-&gt;name),</div>
<div class="line"><span class="lineno">   50</span>            .description = v[i]-&gt;description</div>
<div class="line"><span class="lineno">   51</span>        };</div>
<div class="line"><span class="lineno">   52</span>    }</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">if</span> (pos)</div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="register_8c.html#aec9a0672eddac26362760345cea77508">pcilib_add_registers</a>(ctx, 0, pos, regs, NULL);</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   58</span>}</div>
<div class="ttc" id="abank_8c_html_a1222fd326a61501597298c3e7e18ae5c"><div class="ttname"><a href="bank_8c.html#a1222fd326a61501597298c3e7e18ae5c">pcilib_add_register_banks</a></div><div class="ttdeci">int pcilib_add_register_banks(pcilib_t *ctx, pcilib_model_modification_flags_t flags, size_t n, const pcilib_register_bank_description_t *banks, pcilib_register_bank_t *ids)</div><div class="ttdoc">Use this function to add new register banks into the model or override configuration of the existing ...</div><div class="ttdef"><b>Definition:</b> bank.c:84</div></div>
<div class="ttc" id="abank_8c_html_ae9929ece9a387bddb8e3b57bfcbcac92"><div class="ttname"><a href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr</a></div><div class="ttdeci">pcilib_register_bank_t pcilib_find_register_bank_by_addr(pcilib_t *ctx, pcilib_register_bank_addr_t bank)</div><div class="ttdoc">Find the register bank id (offset in banks array) corresponding to the specified bank address.</div><div class="ttdef"><b>Definition:</b> bank.c:176</div></div>
<div class="ttc" id="abank_8h_html_a1e23eec89ad5ac7e79a21ac008719cc4"><div class="ttname"><a href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a></div><div class="ttdeci">#define PCILIB_REGISTER_BANK_INVALID</div><div class="ttdef"><b>Definition:</b> bank.h:6</div></div>
<div class="ttc" id="abank_8h_html_a7dc74dfb74b49fc1c80cc5459493bee8"><div class="ttname"><a href="bank_8h.html#a7dc74dfb74b49fc1c80cc5459493bee8">pcilib_register_bank_t</a></div><div class="ttdeci">uint8_t pcilib_register_bank_t</div><div class="ttdoc">Type holding the bank position within the field listing register banks in the model.</div><div class="ttdef"><b>Definition:</b> bank.h:28</div></div>
<div class="ttc" id="abank_8h_html_a992364f02e543647e7c2d71e36d8dc7b"><div class="ttname"><a href="bank_8h.html#a992364f02e543647e7c2d71e36d8dc7b">PCILIB_REGISTER_BANK_PROPERTY</a></div><div class="ttdeci">#define PCILIB_REGISTER_BANK_PROPERTY</div><div class="ttdoc">Registers abstracting properties and other computed registers.</div><div class="ttdef"><b>Definition:</b> bank.h:12</div></div>
<div class="ttc" id="aerror_8h_html_a2b06064fecffd095efabb752f7b50021"><div class="ttname"><a href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a></div><div class="ttdeci">#define pcilib_error(...)</div><div class="ttdef"><b>Definition:</b> error.h:68</div></div>
<div class="ttc" id="aexport_8c_html_abebbb89db16140394f8ea892e2c71115"><div class="ttname"><a href="export_8c.html#abebbb89db16140394f8ea892e2c71115">pcilib_property_register_bank</a></div><div class="ttdeci">const pcilib_register_bank_description_t pcilib_property_register_bank</div><div class="ttdef"><b>Definition:</b> export.c:34</div></div>
<div class="ttc" id="apcilib_8h_html_acb54b82c4cfdb69491465e3c94dadf75"><div class="ttname"><a href="pcilib_8h.html#acb54b82c4cfdb69491465e3c94dadf75">pcilib_register_value_t</a></div><div class="ttdeci">uint64_t pcilib_register_value_t</div><div class="ttdoc">Type holding the register value.</div><div class="ttdef"><b>Definition:</b> pcilib.h:20</div></div>
<div class="ttc" id="aregister_8c_html_aec9a0672eddac26362760345cea77508"><div class="ttname"><a href="register_8c.html#aec9a0672eddac26362760345cea77508">pcilib_add_registers</a></div><div class="ttdeci">int pcilib_add_registers(pcilib_t *ctx, pcilib_model_modification_flags_t flags, size_t n, const pcilib_register_description_t *registers, pcilib_register_t *ids)</div><div class="ttdoc">Use this function to add new registers into the model.</div><div class="ttdef"><b>Definition:</b> register.c:25</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html_a24f04b5e08c8092d3a80422826df26bd"><div class="ttname"><a href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">pcilib_register_bank_description_t::access</a></div><div class="ttdeci">uint8_t access</div><div class="ttdoc">Default register size in bits (or word-size in plain addressing mode)</div><div class="ttdef"><b>Definition:</b> bank.h:78</div></div>
<div class="ttc" id="astructpcilib__register__bank__description__t_html_af5de91d652225dd715ef3d929e0e6244"><div class="ttname"><a href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">pcilib_register_bank_description_t::addr</a></div><div class="ttdeci">pcilib_register_bank_addr_t addr</div><div class="ttdoc">Bank address used in model for addressing the described register bank.</div><div class="ttdef"><b>Definition:</b> bank.h:71</div></div>
<div class="ttc" id="astructpcilib__register__description__t_html"><div class="ttname"><a href="structpcilib__register__description__t.html">pcilib_register_description_t</a></div><div class="ttdef"><b>Definition:</b> register.h:25</div></div>
<div class="ttc" id="astructpcilib__register__description__t_html_a8d99ccc2b4a64cabd12568de66311ee5"><div class="ttname"><a href="structpcilib__register__description__t.html#a8d99ccc2b4a64cabd12568de66311ee5">pcilib_register_description_t::addr</a></div><div class="ttdeci">pcilib_register_addr_t addr</div><div class="ttdoc">Register address in the bank.</div><div class="ttdef"><b>Definition:</b> register.h:26</div></div>
<div class="ttc" id="astructpcilib__view__context__s_html_a75bd5d38087e3b9f14fd2fd06d37a6c7"><div class="ttname"><a href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">pcilib_view_context_s::view</a></div><div class="ttdeci">pcilib_view_t view</div><div class="ttdef"><b>Definition:</b> view.h:42</div></div>
<div class="ttc" id="aview_8h_html_a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4"><div class="ttname"><a href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4">PCILIB_VIEW_FLAG_REGISTER</a></div><div class="ttdeci">@ PCILIB_VIEW_FLAG_REGISTER</div><div class="ttdoc">Indicates that view does not depend on a value and should be mapped to the register space.</div><div class="ttdef"><b>Definition:</b> view.h:16</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__register__bank__description__t.html#a24f04b5e08c8092d3a80422826df26bd">pcilib_register_bank_description_t::access</a>, <a class="el" href="structpcilib__register__bank__description__t.html#af5de91d652225dd715ef3d929e0e6244">pcilib_register_bank_description_t::addr</a>, <a class="el" href="structpcilib__register__description__t.html#a8d99ccc2b4a64cabd12568de66311ee5">pcilib_register_description_t::addr</a>, <a class="el" href="structpcilib__s.html#a7f2f82869f7b6acd3a0cfba9dc4a00ed">pcilib_s::banks</a>, <a class="el" href="structpcilib__view__description__s.html#ad896770b002878f6fd5262dd5e8b5a24">pcilib_view_description_s::description</a>, <a class="el" href="structpcilib__register__bank__description__t.html#a298ffc16d83bc9af017a9262f76eec1b">pcilib_register_bank_description_t::name</a>, <a class="el" href="bank_8c.html#a1222fd326a61501597298c3e7e18ae5c">pcilib_add_register_banks()</a>, <a class="el" href="register_8c.html#aec9a0672eddac26362760345cea77508">pcilib_add_registers()</a>, <a class="el" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>, <a class="el" href="bank_8c.html#ae9929ece9a387bddb8e3b57bfcbcac92">pcilib_find_register_bank_by_addr()</a>, <a class="el" href="export_8c.html#abebbb89db16140394f8ea892e2c71115">pcilib_property_register_bank</a>, <a class="el" href="bank_8h.html#a1e23eec89ad5ac7e79a21ac008719cc4">PCILIB_REGISTER_BANK_INVALID</a>, <a class="el" href="bank_8h.html#a992364f02e543647e7c2d71e36d8dc7b">PCILIB_REGISTER_BANK_PROPERTY</a>, <a class="el" href="register_8h.html#aa0464147a2747278f50b0de1764b17a4a5940cbb4559e3a945d8502202ef8690c">PCILIB_REGISTER_PROPERTY</a>, <a class="el" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4">PCILIB_VIEW_FLAG_REGISTER</a>, and <a class="el" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">pcilib_view_context_s::view</a>.</p>

<p class="reference">Referenced by <a class="el" href="view_8c.html#a471314631f09e73644f83768d3e79f6c">pcilib_add_views_custom()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 18 2024 22:02:48 for pcilib by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
