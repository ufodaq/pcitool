<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pcilib: view.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pcilib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b5c8f32f3013e7b96dc99509907414c.html">pcilib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">view.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;uthash.h&gt;</code><br />
<code>#include &lt;<a class="el" href="pcilib_8h_source.html">pcilib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="unit_8h_source.html">pcilib/unit.h</a>&gt;</code><br />
</div>
<p><a href="view_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__view__api__description__t.html">pcilib_view_api_description_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__view__description__s.html">pcilib_view_description_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcilib__view__context__s.html">pcilib_view_context_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a324d573c5ce63d60ff3eb7ca63739280"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a>&#160;&#160;&#160;((<a class="el" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a>)-1)</td></tr>
<tr class="separator:a324d573c5ce63d60ff3eb7ca63739280"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a19d3444ee6b0cf9c8cfaa9f68df917c8"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpcilib__view__context__s.html">pcilib_view_context_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a></td></tr>
<tr class="separator:a19d3444ee6b0cf9c8cfaa9f68df917c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99aad75d5b4c166a0715146c0b03a14"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpcilib__view__description__s.html">pcilib_view_description_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a></td></tr>
<tr class="separator:aa99aad75d5b4c166a0715146c0b03a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a20fd49e645afa41b6c5794d77d3a870a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870a">pcilib_view_flags_t</a> { <a class="el" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e">PCILIB_VIEW_FLAG_PROPERTY</a> = 1
, <a class="el" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4">PCILIB_VIEW_FLAG_REGISTER</a> = 2
 }</td></tr>
<tr class="separator:a20fd49e645afa41b6c5794d77d3a870a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a208c01ea0b9e2f0446c391af1ebcec61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a208c01ea0b9e2f0446c391af1ebcec61">pcilib_add_views</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, size_t n, const <a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a> *desc)</td></tr>
<tr class="memdesc:a208c01ea0b9e2f0446c391af1ebcec61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to add new view definitions into the model.  <a href="view_8h.html#a208c01ea0b9e2f0446c391af1ebcec61">More...</a><br /></td></tr>
<tr class="separator:a208c01ea0b9e2f0446c391af1ebcec61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a471314631f09e73644f83768d3e79f6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a471314631f09e73644f83768d3e79f6c">pcilib_add_views_custom</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, size_t n, const <a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a> *desc, <a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> **refs)</td></tr>
<tr class="memdesc:a471314631f09e73644f83768d3e79f6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to add new view definitions into the model.  <a href="view_8h.html#a471314631f09e73644f83768d3e79f6c">More...</a><br /></td></tr>
<tr class="separator:a471314631f09e73644f83768d3e79f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fba2a8319859f6c23ecda7bef263936"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> start)</td></tr>
<tr class="memdesc:a2fba2a8319859f6c23ecda7bef263936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys data associated with views.  <a href="view_8h.html#a2fba2a8319859f6c23ecda7bef263936">More...</a><br /></td></tr>
<tr class="separator:a2fba2a8319859f6c23ecda7bef263936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3581b05f41ec333459698f701037143"><td class="memItemLeft" align="right" valign="top"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#ae3581b05f41ec333459698f701037143">pcilib_find_view_context_by_name</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, const char *view)</td></tr>
<tr class="separator:ae3581b05f41ec333459698f701037143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a004b9cbae5dd8288e504ef36bd2b38ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a004b9cbae5dd8288e504ef36bd2b38ac">pcilib_find_register_view_context_by_name</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a> reg, const char *name)</td></tr>
<tr class="separator:a004b9cbae5dd8288e504ef36bd2b38ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb31332a5d4f15d2e677b9572f0e309d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#afb31332a5d4f15d2e677b9572f0e309d">pcilib_find_register_view_context</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, <a class="el" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a> reg, const char *name)</td></tr>
<tr class="separator:afb31332a5d4f15d2e677b9572f0e309d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5d32e01792a44466f3f66eff927585"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="view_8h.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name</a> (<a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *ctx, const char *name)</td></tr>
<tr class="separator:a9f5d32e01792a44466f3f66eff927585"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a324d573c5ce63d60ff3eb7ca63739280" name="a324d573c5ce63d60ff3eb7ca63739280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324d573c5ce63d60ff3eb7ca63739280">&#9670;&#160;</a></span>PCILIB_VIEW_INVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCILIB_VIEW_INVALID&#160;&#160;&#160;((<a class="el" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a>)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a19d3444ee6b0cf9c8cfaa9f68df917c8" name="a19d3444ee6b0cf9c8cfaa9f68df917c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19d3444ee6b0cf9c8cfaa9f68df917c8">&#9670;&#160;</a></span>pcilib_view_context_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpcilib__view__context__s.html">pcilib_view_context_s</a> <a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa99aad75d5b4c166a0715146c0b03a14" name="aa99aad75d5b4c166a0715146c0b03a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99aad75d5b4c166a0715146c0b03a14">&#9670;&#160;</a></span>pcilib_view_description_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpcilib__view__description__s.html">pcilib_view_description_s</a> <a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a20fd49e645afa41b6c5794d77d3a870a" name="a20fd49e645afa41b6c5794d77d3a870a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20fd49e645afa41b6c5794d77d3a870a">&#9670;&#160;</a></span>pcilib_view_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870a">pcilib_view_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e" name="a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e"></a>PCILIB_VIEW_FLAG_PROPERTY&#160;</td><td class="fielddoc"><p >Indicates that view does not depend on a value and is independent property. </p>
</td></tr>
<tr><td class="fieldname"><a id="a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4" name="a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4"></a>PCILIB_VIEW_FLAG_REGISTER&#160;</td><td class="fielddoc"><p >Indicates that view does not depend on a value and should be mapped to the register space. </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   14</span>             {</div>
<div class="line"><span class="lineno">   15</span>    <a class="code hl_enumvalue" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e">PCILIB_VIEW_FLAG_PROPERTY</a> = 1,                                              </div>
<div class="line"><span class="lineno">   16</span>    <a class="code hl_enumvalue" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4">PCILIB_VIEW_FLAG_REGISTER</a> = 2                                               </div>
<div class="line"><span class="lineno">   17</span>} <a class="code hl_enumeration" href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870a">pcilib_view_flags_t</a>;</div>
<div class="ttc" id="aview_8h_html_a20fd49e645afa41b6c5794d77d3a870a"><div class="ttname"><a href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870a">pcilib_view_flags_t</a></div><div class="ttdeci">pcilib_view_flags_t</div><div class="ttdef"><b>Definition:</b> view.h:14</div></div>
<div class="ttc" id="aview_8h_html_a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e"><div class="ttname"><a href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa2386c2d7a8b64e6561d46941c007087e">PCILIB_VIEW_FLAG_PROPERTY</a></div><div class="ttdeci">@ PCILIB_VIEW_FLAG_PROPERTY</div><div class="ttdoc">Indicates that view does not depend on a value and is independent property.</div><div class="ttdef"><b>Definition:</b> view.h:15</div></div>
<div class="ttc" id="aview_8h_html_a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4"><div class="ttname"><a href="view_8h.html#a20fd49e645afa41b6c5794d77d3a870aa43d1ae97aa6b08676ebd7d2e0155e0c4">PCILIB_VIEW_FLAG_REGISTER</a></div><div class="ttdeci">@ PCILIB_VIEW_FLAG_REGISTER</div><div class="ttdoc">Indicates that view does not depend on a value and should be mapped to the register space.</div><div class="ttdef"><b>Definition:</b> view.h:16</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a208c01ea0b9e2f0446c391af1ebcec61" name="a208c01ea0b9e2f0446c391af1ebcec61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208c01ea0b9e2f0446c391af1ebcec61">&#9670;&#160;</a></span>pcilib_add_views()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_add_views </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a> *&#160;</td>
          <td class="paramname"><em>desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to add new view definitions into the model. </p>
<p >It is error to re-register already registered view. The function will copy the context of unit description, but name, transform, and other strings in the structure are considered to have static duration and will not be copied. On error no new views are initalized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>- number of views to initialize. It is OK to pass 0 if protocols variable is NULL terminated (last member of protocols array have all members set to 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desc</td><td>- view descriptions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                                                                     {</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="view_8c.html#a471314631f09e73644f83768d3e79f6c">pcilib_add_views_custom</a>(ctx, n, desc, NULL);</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="aview_8c_html_a471314631f09e73644f83768d3e79f6c"><div class="ttname"><a href="view_8c.html#a471314631f09e73644f83768d3e79f6c">pcilib_add_views_custom</a></div><div class="ttdeci">int pcilib_add_views_custom(pcilib_t *ctx, size_t n, const pcilib_view_description_t *desc, pcilib_view_context_t **refs)</div><div class="ttdoc">Use this function to add new view definitions into the model.</div><div class="ttdef"><b>Definition:</b> view.c:14</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="view_8c.html#a471314631f09e73644f83768d3e79f6c">pcilib_add_views_custom()</a>.</p>

<p class="reference">Referenced by <a class="el" href="property_8c.html#affb1453cac52761dde03f6c56f210f28">pcilib_add_properties_from_registers()</a>.</p>

</div>
</div>
<a id="a471314631f09e73644f83768d3e79f6c" name="a471314631f09e73644f83768d3e79f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a471314631f09e73644f83768d3e79f6c">&#9670;&#160;</a></span>pcilib_add_views_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcilib_add_views_custom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="view_8h.html#aa99aad75d5b4c166a0715146c0b03a14">pcilib_view_description_t</a> *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> **&#160;</td>
          <td class="paramname"><em>refs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to add new view definitions into the model. </p>
<p >It is error to re-register already registered view. The function will copy the context of unit description, but name, transform, and other strings in the structure are considered to have static duration and will not be copied. On error no new views are initalized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>- number of views to initialize. It is OK to pass 0 if protocols variable is NULL terminated (last member of protocols array have all members set to 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desc</td><td>- view descriptions </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">refs</td><td>- fills allocated view contexts. On error context is undefined. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- error or 0 on success </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   14</span>                                                                                                                          {</div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">   16</span> </div>
<div class="line"><span class="lineno">   17</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordtype">void</span> *ptr;</div>
<div class="line"><span class="lineno">   19</span> </div>
<div class="line"><span class="lineno">   20</span>    <span class="keywordflow">if</span> (!n) {</div>
<div class="line"><span class="lineno">   21</span>            <span class="comment">// No padding between array elements</span></div>
<div class="line"><span class="lineno">   22</span>        ptr = (<span class="keywordtype">void</span>*)desc;</div>
<div class="line"><span class="lineno">   23</span>        <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno">   24</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a> *v = (<span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>*)ptr;</div>
<div class="line"><span class="lineno">   25</span>            <span class="keywordflow">if</span> (v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a2fd05dc778ebf829dd757f49b62fac64">name</a>) n++;</div>
<div class="line"><span class="lineno">   26</span>            <span class="keywordflow">else</span> <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   27</span>            ptr += v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#ab548a872495744c0ca2ea89f74ed1f0f">description_size</a>;</div>
<div class="line"><span class="lineno">   28</span>        }</div>
<div class="line"><span class="lineno">   29</span>    }</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordflow">if</span> (!refs) {</div>
<div class="line"><span class="lineno">   32</span>        refs = (<a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a>**)alloca(n * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a>*));</div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">if</span> (!refs) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a>;</div>
<div class="line"><span class="lineno">   34</span>    }</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>    <span class="keywordflow">if</span> ((ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + n + 1) &gt; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af97bbf6079a97d4490377dc92310f1f5">alloc_views</a>) {</div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordtype">size_t</span> size;</div>
<div class="line"><span class="lineno">   38</span>        <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a> **views;</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordflow">for</span> (size = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af97bbf6079a97d4490377dc92310f1f5">alloc_views</a>; size &lt; 2 * (n + ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + 1); size&lt;&lt;=1);</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>        views = (<a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>**)realloc(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>, size * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>*));</div>
<div class="line"><span class="lineno">   42</span>        <span class="keywordflow">if</span> (!views) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a>;</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>        ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a> = views;</div>
<div class="line"><span class="lineno">   45</span>        ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af97bbf6079a97d4490377dc92310f1f5">alloc_views</a> = size;</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>        ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#ab08f82dd5bf659b498f798b1078fdf98">model_info</a>.<a class="code hl_variable" href="structpcilib__model__description__t.html#a99fd6d461bd26ac1407dec52f4ea217c">views</a> = (<span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>**)views;</div>
<div class="line"><span class="lineno">   48</span>    }</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>        <span class="comment">// No padding between array elements</span></div>
<div class="line"><span class="lineno">   51</span>    ptr = (<span class="keywordtype">void</span>*)desc;</div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">   53</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a> *v = (<span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>*)ptr;</div>
<div class="line"><span class="lineno">   54</span>        <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a> *cur;</div>
<div class="line"><span class="lineno">   55</span>        <a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a> *view_ctx;</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>        <a class="code hl_typedef" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> view = <a class="code hl_function" href="view_8c.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name</a>(ctx, v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a2fd05dc778ebf829dd757f49b62fac64">name</a>);</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">if</span> (view != <a class="code hl_define" href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a>) {</div>
<div class="line"><span class="lineno">   59</span>            ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + i] = NULL;</div>
<div class="line"><span class="lineno">   60</span>            <a class="code hl_function" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a>);</div>
<div class="line"><span class="lineno">   61</span>            <a class="code hl_define" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>(<span class="stringliteral">&quot;View %s is already defined in the model&quot;</span>, v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a2fd05dc778ebf829dd757f49b62fac64">name</a>);</div>
<div class="line"><span class="lineno">   62</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d">PCILIB_ERROR_EXIST</a>;</div>
<div class="line"><span class="lineno">   63</span>        }</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>        cur = (<a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a>*)malloc(v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#ab548a872495744c0ca2ea89f74ed1f0f">description_size</a>);</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">if</span> (!cur) {</div>
<div class="line"><span class="lineno">   67</span>            ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + i] = NULL;</div>
<div class="line"><span class="lineno">   68</span>            <a class="code hl_function" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a>);</div>
<div class="line"><span class="lineno">   69</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a>;</div>
<div class="line"><span class="lineno">   70</span>        }</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>        memcpy(cur, v, v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#ab548a872495744c0ca2ea89f74ed1f0f">description_size</a>);</div>
<div class="line"><span class="lineno">   73</span>        ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + i] = cur;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">if</span> (v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#a0914404ec08a37559954c65850020e3d">init</a>) </div>
<div class="line"><span class="lineno">   76</span>            view_ctx = v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#a0914404ec08a37559954c65850020e3d">init</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + i);</div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   78</span>            view_ctx = (<a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a>));</div>
<div class="line"><span class="lineno">   79</span>            <span class="keywordflow">if</span> (view_ctx) memset(view_ctx, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a>));</div>
<div class="line"><span class="lineno">   80</span>        }</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordflow">if</span> (!view_ctx) {</div>
<div class="line"><span class="lineno">   83</span>            free(cur);</div>
<div class="line"><span class="lineno">   84</span>            ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + i] = NULL;</div>
<div class="line"><span class="lineno">   85</span>            <a class="code hl_function" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a>);</div>
<div class="line"><span class="lineno">   86</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c">PCILIB_ERROR_FAILED</a>;</div>
<div class="line"><span class="lineno">   87</span>        }</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        view_ctx-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">view</a> = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + i;</div>
<div class="line"><span class="lineno">   90</span>        view_ctx-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a2f655f940bc88295b46133300aea110f">name</a> = v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a2fd05dc778ebf829dd757f49b62fac64">name</a>;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>        HASH_ADD_KEYPTR(hh, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">view_hash</a>, view_ctx-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a2f655f940bc88295b46133300aea110f">name</a>, strlen(view_ctx-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a2f655f940bc88295b46133300aea110f">name</a>), view_ctx);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">if</span> (refs) refs[i] = view_ctx;</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        ptr += v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#ab548a872495744c0ca2ea89f74ed1f0f">description_size</a>;</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> + n] = NULL;</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    err = <a class="code hl_function" href="property_8c.html#a6f859397a4f272589f043f72822419f2">pcilib_add_registers_from_properties</a>(ctx, n, refs, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a> + ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a>);</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><span class="lineno">  103</span>        <a class="code hl_function" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a>);</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  105</span>    }</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> += n;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  110</span>}</div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d">PCILIB_ERROR_EXIST</a></div><div class="ttdeci">@ PCILIB_ERROR_EXIST</div><div class="ttdef"><b>Definition:</b> error.h:33</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c">PCILIB_ERROR_FAILED</a></div><div class="ttdeci">@ PCILIB_ERROR_FAILED</div><div class="ttdef"><b>Definition:</b> error.h:22</div></div>
<div class="ttc" id="aerror_8h_html_a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00"><div class="ttname"><a href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a></div><div class="ttdeci">@ PCILIB_ERROR_MEMORY</div><div class="ttdef"><b>Definition:</b> error.h:14</div></div>
<div class="ttc" id="aerror_8h_html_a2b06064fecffd095efabb752f7b50021"><div class="ttname"><a href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a></div><div class="ttdeci">#define pcilib_error(...)</div><div class="ttdef"><b>Definition:</b> error.h:68</div></div>
<div class="ttc" id="apcilib_8h_html_aaecd82ed7c5a8c92b8e08c06c21b8c25"><div class="ttname"><a href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a></div><div class="ttdeci">uint16_t pcilib_view_t</div><div class="ttdoc">Type holding the register view position within view listing in the model.</div><div class="ttdef"><b>Definition:</b> pcilib.h:16</div></div>
<div class="ttc" id="aproperty_8c_html_a6f859397a4f272589f043f72822419f2"><div class="ttname"><a href="property_8c.html#a6f859397a4f272589f043f72822419f2">pcilib_add_registers_from_properties</a></div><div class="ttdeci">int pcilib_add_registers_from_properties(pcilib_t *ctx, size_t n, pcilib_view_context_t *const *view_ctx, pcilib_view_description_t *const *v)</div><div class="ttdoc">This is an internal function used to add registers providing alternative access to values of the prop...</div><div class="ttdef"><b>Definition:</b> property.c:19</div></div>
<div class="ttc" id="astructpcilib__model__description__t_html_a99fd6d461bd26ac1407dec52f4ea217c"><div class="ttname"><a href="structpcilib__model__description__t.html#a99fd6d461bd26ac1407dec52f4ea217c">pcilib_model_description_t::views</a></div><div class="ttdeci">const pcilib_view_description_t ** views</div><div class="ttdef"><b>Definition:</b> model.h:22</div></div>
<div class="ttc" id="astructpcilib__s_html_aa581ed1b9217f9c50c33b6d55559f019"><div class="ttname"><a href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">pcilib_s::num_views</a></div><div class="ttdeci">size_t num_views</div><div class="ttdef"><b>Definition:</b> pci.h:92</div></div>
<div class="ttc" id="astructpcilib__s_html_ab08f82dd5bf659b498f798b1078fdf98"><div class="ttname"><a href="structpcilib__s.html#ab08f82dd5bf659b498f798b1078fdf98">pcilib_s::model_info</a></div><div class="ttdeci">pcilib_model_description_t model_info</div><div class="ttdoc">Current model description combined from the information returned by the event plugin and all dynamic ...</div><div class="ttdef"><b>Definition:</b> pci.h:73</div></div>
<div class="ttc" id="astructpcilib__s_html_af0bbd1334a8cb708cfa331d833be25e3"><div class="ttname"><a href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">pcilib_s::views</a></div><div class="ttdeci">pcilib_view_description_t ** views</div><div class="ttdoc">list of currently defined views</div><div class="ttdef"><b>Definition:</b> pci.h:94</div></div>
<div class="ttc" id="astructpcilib__s_html_af97bbf6079a97d4490377dc92310f1f5"><div class="ttname"><a href="structpcilib__s.html#af97bbf6079a97d4490377dc92310f1f5">pcilib_s::alloc_views</a></div><div class="ttdeci">size_t alloc_views</div><div class="ttdoc">Number of configured and allocated views.</div><div class="ttdef"><b>Definition:</b> pci.h:92</div></div>
<div class="ttc" id="astructpcilib__s_html_afb2b15feb017f4cd85d1d15f263d1d31"><div class="ttname"><a href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">pcilib_s::view_hash</a></div><div class="ttdeci">pcilib_view_context_t * view_hash</div><div class="ttdoc">Hash of views.</div><div class="ttdef"><b>Definition:</b> pci.h:98</div></div>
<div class="ttc" id="astructpcilib__view__api__description__t_html_a0914404ec08a37559954c65850020e3d"><div class="ttname"><a href="structpcilib__view__api__description__t.html#a0914404ec08a37559954c65850020e3d">pcilib_view_api_description_t::init</a></div><div class="ttdeci">pcilib_view_context_t *(* init)(pcilib_t *ctx, pcilib_view_t view)</div><div class="ttdoc">Optional function which should allocated context used by read/write functions.</div><div class="ttdef"><b>Definition:</b> view.h:22</div></div>
<div class="ttc" id="astructpcilib__view__api__description__t_html_ab548a872495744c0ca2ea89f74ed1f0f"><div class="ttname"><a href="structpcilib__view__api__description__t.html#ab548a872495744c0ca2ea89f74ed1f0f">pcilib_view_api_description_t::description_size</a></div><div class="ttdeci">size_t description_size</div><div class="ttdoc">The actual size of the description.</div><div class="ttdef"><b>Definition:</b> view.h:21</div></div>
<div class="ttc" id="astructpcilib__view__context__s_html"><div class="ttname"><a href="structpcilib__view__context__s.html">pcilib_view_context_s</a></div><div class="ttdef"><b>Definition:</b> view.h:40</div></div>
<div class="ttc" id="astructpcilib__view__context__s_html_a2f655f940bc88295b46133300aea110f"><div class="ttname"><a href="structpcilib__view__context__s.html#a2f655f940bc88295b46133300aea110f">pcilib_view_context_s::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> view.h:41</div></div>
<div class="ttc" id="astructpcilib__view__context__s_html_a75bd5d38087e3b9f14fd2fd06d37a6c7"><div class="ttname"><a href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">pcilib_view_context_s::view</a></div><div class="ttdeci">pcilib_view_t view</div><div class="ttdef"><b>Definition:</b> view.h:42</div></div>
<div class="ttc" id="astructpcilib__view__description__s_html"><div class="ttname"><a href="structpcilib__view__description__s.html">pcilib_view_description_s</a></div><div class="ttdef"><b>Definition:</b> view.h:29</div></div>
<div class="ttc" id="astructpcilib__view__description__s_html_a2fd05dc778ebf829dd757f49b62fac64"><div class="ttname"><a href="structpcilib__view__description__s.html#a2fd05dc778ebf829dd757f49b62fac64">pcilib_view_description_s::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of the view.</div><div class="ttdef"><b>Definition:</b> view.h:35</div></div>
<div class="ttc" id="astructpcilib__view__description__s_html_a9f721b229fa0c67c0e7959d721d74501"><div class="ttname"><a href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">pcilib_view_description_s::api</a></div><div class="ttdeci">const pcilib_view_api_description_t * api</div><div class="ttdef"><b>Definition:</b> view.h:30</div></div>
<div class="ttc" id="aview_8c_html_a2fba2a8319859f6c23ecda7bef263936"><div class="ttname"><a href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views</a></div><div class="ttdeci">void pcilib_clean_views(pcilib_t *ctx, pcilib_view_t start)</div><div class="ttdoc">Destroys data associated with views.</div><div class="ttdef"><b>Definition:</b> view.c:117</div></div>
<div class="ttc" id="aview_8c_html_a9f5d32e01792a44466f3f66eff927585"><div class="ttname"><a href="view_8c.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name</a></div><div class="ttdeci">pcilib_view_t pcilib_find_view_by_name(pcilib_t *ctx, const char *name)</div><div class="ttdef"><b>Definition:</b> view.c:152</div></div>
<div class="ttc" id="aview_8h_html_a324d573c5ce63d60ff3eb7ca63739280"><div class="ttname"><a href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a></div><div class="ttdeci">#define PCILIB_VIEW_INVALID</div><div class="ttdef"><b>Definition:</b> view.h:9</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__s.html#af97bbf6079a97d4490377dc92310f1f5">pcilib_s::alloc_views</a>, <a class="el" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">pcilib_view_description_s::api</a>, <a class="el" href="structpcilib__view__api__description__t.html#ab548a872495744c0ca2ea89f74ed1f0f">pcilib_view_api_description_t::description_size</a>, <a class="el" href="structpcilib__view__api__description__t.html#a0914404ec08a37559954c65850020e3d">pcilib_view_api_description_t::init</a>, <a class="el" href="structpcilib__s.html#ab08f82dd5bf659b498f798b1078fdf98">pcilib_s::model_info</a>, <a class="el" href="structpcilib__view__description__s.html#a2fd05dc778ebf829dd757f49b62fac64">pcilib_view_description_s::name</a>, <a class="el" href="structpcilib__view__context__s.html#a2f655f940bc88295b46133300aea110f">pcilib_view_context_s::name</a>, <a class="el" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">pcilib_s::num_views</a>, <a class="el" href="property_8c.html#a6f859397a4f272589f043f72822419f2">pcilib_add_registers_from_properties()</a>, <a class="el" href="view_8c.html#a2fba2a8319859f6c23ecda7bef263936">pcilib_clean_views()</a>, <a class="el" href="error_8h.html#a2b06064fecffd095efabb752f7b50021">pcilib_error</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca480c3c07a5b087945ef9844623f48e9d">PCILIB_ERROR_EXIST</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60ca8a1b45502224b7b2659e0014d9acf50c">PCILIB_ERROR_FAILED</a>, <a class="el" href="error_8h.html#a0c59f7091fd2446121868635aca9e60caa30630d7c09a1fe97acd43439032eb00">PCILIB_ERROR_MEMORY</a>, <a class="el" href="view_8c.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name()</a>, <a class="el" href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a>, <a class="el" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">pcilib_view_context_s::view</a>, <a class="el" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">pcilib_s::view_hash</a>, <a class="el" href="structpcilib__model__description__t.html#a99fd6d461bd26ac1407dec52f4ea217c">pcilib_model_description_t::views</a>, and <a class="el" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">pcilib_s::views</a>.</p>

<p class="reference">Referenced by <a class="el" href="view_8c.html#a208c01ea0b9e2f0446c391af1ebcec61">pcilib_add_views()</a>.</p>

</div>
</div>
<a id="a2fba2a8319859f6c23ecda7bef263936" name="a2fba2a8319859f6c23ecda7bef263936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fba2a8319859f6c23ecda7bef263936">&#9670;&#160;</a></span>pcilib_clean_views()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcilib_clean_views </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a>&#160;</td>
          <td class="paramname"><em>start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys data associated with views. </p>
<p >This is an internal function and will be called during clean-up. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- pcilib context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start</td><td>- specifies first view to clean (used to clean only part of the views to keep the defined state if pcilib_add_views has failed) </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  117</span>                                                            {</div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_typedef" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> i;</div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a> *view_ctx, *tmp;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">view_hash</a>) {</div>
<div class="line"><span class="lineno">  122</span>        HASH_ITER(hh, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">view_hash</a>, view_ctx, tmp) {</div>
<div class="line"><span class="lineno">  123</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpcilib__view__description__s.html">pcilib_view_description_t</a> *v = ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[view_ctx-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">view</a>];</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">if</span> (view_ctx-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">view</a> &gt;= start) {</div>
<div class="line"><span class="lineno">  126</span>                HASH_DEL(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">view_hash</a>, view_ctx);</div>
<div class="line"><span class="lineno">  127</span>                <span class="keywordflow">if</span> (v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#a4fae995cfb8e4dd9aff2fba8c83fdf53">free</a>) v-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#a4fae995cfb8e4dd9aff2fba8c83fdf53">free</a>(ctx, view_ctx);</div>
<div class="line"><span class="lineno">  128</span>                <span class="keywordflow">else</span> free(view_ctx);</div>
<div class="line"><span class="lineno">  129</span>            }</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">for</span> (i = start; ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[i]; i++) {</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">if</span> (ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[i]-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#a28681ae28272fb893f11621b82782223">free_description</a>) {</div>
<div class="line"><span class="lineno">  135</span>            ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[i]-&gt;<a class="code hl_variable" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">api</a>-&gt;<a class="code hl_variable" href="structpcilib__view__api__description__t.html#a28681ae28272fb893f11621b82782223">free_description</a>(ctx, ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[i]);</div>
<div class="line"><span class="lineno">  136</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  137</span>            free(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[i]);</div>
<div class="line"><span class="lineno">  138</span>        }</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">views</a>[start] = NULL;</div>
<div class="line"><span class="lineno">  142</span>    ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">num_views</a> = start;</div>
<div class="line"><span class="lineno">  143</span>}</div>
<div class="ttc" id="astructpcilib__view__api__description__t_html_a28681ae28272fb893f11621b82782223"><div class="ttname"><a href="structpcilib__view__api__description__t.html#a28681ae28272fb893f11621b82782223">pcilib_view_api_description_t::free_description</a></div><div class="ttdeci">void(* free_description)(pcilib_t *ctx, pcilib_view_description_t *view)</div><div class="ttdoc">Optional function which shoud clean required parts of the extended description if non-static memory w...</div><div class="ttdef"><b>Definition:</b> view.h:24</div></div>
<div class="ttc" id="astructpcilib__view__api__description__t_html_a4fae995cfb8e4dd9aff2fba8c83fdf53"><div class="ttname"><a href="structpcilib__view__api__description__t.html#a4fae995cfb8e4dd9aff2fba8c83fdf53">pcilib_view_api_description_t::free</a></div><div class="ttdeci">void(* free)(pcilib_t *ctx, pcilib_view_context_t *view)</div><div class="ttdoc">Optional function which should clean context.</div><div class="ttdef"><b>Definition:</b> view.h:23</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__view__description__s.html#a9f721b229fa0c67c0e7959d721d74501">pcilib_view_description_s::api</a>, <a class="el" href="structpcilib__view__api__description__t.html#a4fae995cfb8e4dd9aff2fba8c83fdf53">pcilib_view_api_description_t::free</a>, <a class="el" href="structpcilib__view__api__description__t.html#a28681ae28272fb893f11621b82782223">pcilib_view_api_description_t::free_description</a>, <a class="el" href="structpcilib__s.html#aa581ed1b9217f9c50c33b6d55559f019">pcilib_s::num_views</a>, <a class="el" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">pcilib_view_context_s::view</a>, <a class="el" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">pcilib_s::view_hash</a>, and <a class="el" href="structpcilib__s.html#af0bbd1334a8cb708cfa331d833be25e3">pcilib_s::views</a>.</p>

<p class="reference">Referenced by <a class="el" href="property_8c.html#affb1453cac52761dde03f6c56f210f28">pcilib_add_properties_from_registers()</a>, <a class="el" href="view_8c.html#a471314631f09e73644f83768d3e79f6c">pcilib_add_views_custom()</a>, and <a class="el" href="group__public__api.html#ga809b61586ed9c56a7510c607859e75e3">pcilib_close()</a>.</p>

</div>
</div>
<a id="afb31332a5d4f15d2e677b9572f0e309d" name="afb31332a5d4f15d2e677b9572f0e309d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb31332a5d4f15d2e677b9572f0e309d">&#9670;&#160;</a></span>pcilib_find_register_view_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> * pcilib_find_register_view_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a>&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  214</span>                                                                                                                 {</div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">  216</span>    <a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a> *view;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    err = pcilib_detect_register_view_and_unit(ctx, reg, name, 0, &amp;view, NULL);</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span> (err) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">return</span> view;</div>
<div class="line"><span class="lineno">  222</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a004b9cbae5dd8288e504ef36bd2b38ac" name="a004b9cbae5dd8288e504ef36bd2b38ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a004b9cbae5dd8288e504ef36bd2b38ac">&#9670;&#160;</a></span>pcilib_find_register_view_context_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> * pcilib_find_register_view_context_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcilib_8h.html#a64d66d93f7c4755e67c113b370f982d0">pcilib_register_t</a>&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  158</span>                                                                                                                         {</div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_typedef" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> i;</div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_struct" href="structpcilib__register__context__t.html">pcilib_register_context_t</a> *regctx = &amp;ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#a4b24f857efec07c254d2fa2226b59fda">register_ctx</a>[reg];</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">if</span> (!regctx-&gt;<a class="code hl_variable" href="structpcilib__register__context__t.html#a25774338e62cf58d42d3fc09a8362010">views</a>) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">for</span> (i = 0; regctx-&gt;<a class="code hl_variable" href="structpcilib__register__context__t.html#a25774338e62cf58d42d3fc09a8362010">views</a>[i].<a class="code hl_variable" href="structpcilib__view__reference__t.html#a25208930bec259f4bc3f2e2c5bfcaf07">name</a>; i++) {</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> (!strcasecmp(name, regctx-&gt;<a class="code hl_variable" href="structpcilib__register__context__t.html#a25774338e62cf58d42d3fc09a8362010">views</a>[i].<a class="code hl_variable" href="structpcilib__view__reference__t.html#a25208930bec259f4bc3f2e2c5bfcaf07">name</a>)) {</div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="view_8c.html#a6bb45b4a1ffa91dabec067d852cc7ab8">pcilib_find_view_context_by_name</a>(ctx, regctx-&gt;<a class="code hl_variable" href="structpcilib__register__context__t.html#a25774338e62cf58d42d3fc09a8362010">views</a>[i].<a class="code hl_variable" href="structpcilib__view__reference__t.html#ae354efa5ecf958d4f8812948a84b4881">view</a>);</div>
<div class="line"><span class="lineno">  167</span>        }</div>
<div class="line"><span class="lineno">  168</span>    }</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  171</span>}</div>
<div class="ttc" id="astructpcilib__register__context__t_html"><div class="ttname"><a href="structpcilib__register__context__t.html">pcilib_register_context_t</a></div><div class="ttdef"><b>Definition:</b> register.h:46</div></div>
<div class="ttc" id="astructpcilib__register__context__t_html_a25774338e62cf58d42d3fc09a8362010"><div class="ttname"><a href="structpcilib__register__context__t.html#a25774338e62cf58d42d3fc09a8362010">pcilib_register_context_t::views</a></div><div class="ttdeci">pcilib_view_reference_t * views</div><div class="ttdoc">For non-static list of views, this vairables holds a copy of a NULL-terminated list from model (if pr...</div><div class="ttdef"><b>Definition:</b> register.h:52</div></div>
<div class="ttc" id="astructpcilib__s_html_a4b24f857efec07c254d2fa2226b59fda"><div class="ttname"><a href="structpcilib__s.html#a4b24f857efec07c254d2fa2226b59fda">pcilib_s::register_ctx</a></div><div class="ttdeci">pcilib_register_context_t * register_ctx</div><div class="ttdoc">Contexts for registers.</div><div class="ttdef"><b>Definition:</b> pci.h:87</div></div>
<div class="ttc" id="astructpcilib__view__reference__t_html_a25208930bec259f4bc3f2e2c5bfcaf07"><div class="ttname"><a href="structpcilib__view__reference__t.html#a25208930bec259f4bc3f2e2c5bfcaf07">pcilib_view_reference_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> register.h:21</div></div>
<div class="ttc" id="astructpcilib__view__reference__t_html_ae354efa5ecf958d4f8812948a84b4881"><div class="ttname"><a href="structpcilib__view__reference__t.html#ae354efa5ecf958d4f8812948a84b4881">pcilib_view_reference_t::view</a></div><div class="ttdeci">const char * view</div><div class="ttdef"><b>Definition:</b> register.h:22</div></div>
<div class="ttc" id="aview_8c_html_a6bb45b4a1ffa91dabec067d852cc7ab8"><div class="ttname"><a href="view_8c.html#a6bb45b4a1ffa91dabec067d852cc7ab8">pcilib_find_view_context_by_name</a></div><div class="ttdeci">pcilib_view_context_t * pcilib_find_view_context_by_name(pcilib_t *ctx, const char *name)</div><div class="ttdef"><b>Definition:</b> view.c:145</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__view__reference__t.html#a25208930bec259f4bc3f2e2c5bfcaf07">pcilib_view_reference_t::name</a>, <a class="el" href="view_8c.html#a6bb45b4a1ffa91dabec067d852cc7ab8">pcilib_find_view_context_by_name()</a>, <a class="el" href="structpcilib__s.html#a4b24f857efec07c254d2fa2226b59fda">pcilib_s::register_ctx</a>, <a class="el" href="structpcilib__view__reference__t.html#ae354efa5ecf958d4f8812948a84b4881">pcilib_view_reference_t::view</a>, and <a class="el" href="structpcilib__register__context__t.html#a25774338e62cf58d42d3fc09a8362010">pcilib_register_context_t::views</a>.</p>

</div>
</div>
<a id="a9f5d32e01792a44466f3f66eff927585" name="a9f5d32e01792a44466f3f66eff927585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f5d32e01792a44466f3f66eff927585">&#9670;&#160;</a></span>pcilib_find_view_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcilib_8h.html#aaecd82ed7c5a8c92b8e08c06c21b8c25">pcilib_view_t</a> pcilib_find_view_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  152</span>                                                                        {</div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a> *view_ctx = <a class="code hl_function" href="view_8c.html#a6bb45b4a1ffa91dabec067d852cc7ab8">pcilib_find_view_context_by_name</a>(ctx, name);</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">if</span> (view_ctx) <span class="keywordflow">return</span> view_ctx-&gt;<a class="code hl_variable" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">view</a>;</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a>;</div>
<div class="line"><span class="lineno">  156</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="view_8c.html#a6bb45b4a1ffa91dabec067d852cc7ab8">pcilib_find_view_context_by_name()</a>, <a class="el" href="view_8h.html#a324d573c5ce63d60ff3eb7ca63739280">PCILIB_VIEW_INVALID</a>, and <a class="el" href="structpcilib__view__context__s.html#a75bd5d38087e3b9f14fd2fd06d37a6c7">pcilib_view_context_s::view</a>.</p>

<p class="reference">Referenced by <a class="el" href="property_8c.html#affb1453cac52761dde03f6c56f210f28">pcilib_add_properties_from_registers()</a>, <a class="el" href="view_8c.html#a471314631f09e73644f83768d3e79f6c">pcilib_add_views_custom()</a>, and <a class="el" href="group__public__api__register.html#ga8cd5426b8935f02e8af3493794f5f8df">pcilib_get_register_info()</a>.</p>

</div>
</div>
<a id="ae3581b05f41ec333459698f701037143" name="ae3581b05f41ec333459698f701037143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3581b05f41ec333459698f701037143">&#9670;&#160;</a></span>pcilib_find_view_context_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="view_8h.html#a19d3444ee6b0cf9c8cfaa9f68df917c8">pcilib_view_context_t</a> * pcilib_find_view_context_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmem_8h.html#a51f63ba035402ca9a2ddd1b11152d7f5">pcilib_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  145</span>                                                                                         {</div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_struct" href="structpcilib__view__context__s.html">pcilib_view_context_t</a> *view_ctx = NULL;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    HASH_FIND_STR(ctx-&gt;<a class="code hl_variable" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">view_hash</a>, name, view_ctx);</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">return</span> view_ctx;</div>
<div class="line"><span class="lineno">  150</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structpcilib__s.html#afb2b15feb017f4cd85d1d15f263d1d31">pcilib_s::view_hash</a>.</p>

<p class="reference">Referenced by <a class="el" href="view_8c.html#a004b9cbae5dd8288e504ef36bd2b38ac">pcilib_find_register_view_context_by_name()</a>, <a class="el" href="view_8c.html#a9f5d32e01792a44466f3f66eff927585">pcilib_find_view_by_name()</a>, and <a class="el" href="group__public__api__property.html#ga012ebc113645081902b4461c9deef3fd">pcilib_get_property_attr()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 18 2024 22:02:48 for pcilib by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
